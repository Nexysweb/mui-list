{"version":3,"sources":["lib/components/alert.jsx","lib/components/loader.jsx","lib/components/button.jsx","lib/components/icon-button.jsx","lib/components/tooltip.jsx","lib/components/overflow-tooltip.jsx","lib/components/draggable.jsx","lib/components/form/wrapper.jsx","lib/components/form/input.jsx","lib/components/form/select.jsx","lib/components/form/option.jsx","lib/components/form/option-group.jsx","lib/components/form/container.jsx","lib/components/grid.js","lib/components/withDragDropContext.js","lib/components/table/pagination/actions.jsx","lib/components/table/index.js","lib/table/index.js","lib/list/index.js","App.js","serviceWorker.js","index.js"],"names":["Alert","props","dismissible","myClass","color","join","trim","showIcon","state","handleDismiss","bind","this","onDismiss","noMargin","type","className","data-dismiss","aria-label","onClick","aria-hidden","icon","Icon","name","iconName","children","React","PropTypes","string","isRequired","element","boolean","function","Component","Loader","StyledLoader","styled","thickness","radius","defaultProps","MyButton","label","href","target","primary","flat","outlined","focus","form","loading","disabled","prefix","fullWidth","suffix","style","display","variant","width","btn","Button","autoFocus","StyledSpan","suffixed","prefixed","to","span","IconButton","padding","Tooltip","OverflowTooltip","show","el","hasOverflowingChildren","offsetWidth","scrollWidth","setState","placement","childWrapper","ref","id","title","rowSource","beginDrag","idx","rowTarget","hover","monitor","component","dragIndex","getItem","hoverIndex","lastId","dragId","onMove","drop","targetId","draggedId","onDrop","sourceCollect","connect","connectDragSource","dragSource","isDragging","targetCollect","connectDropTarget","dropTarget","draggable","Draggable","instance","node","findDOMNode","opacity","backgroundColor","source","DragSource","DropTarget","Wrapper","errors","mandatory","inline","shrink","widthAuto","labelProps","errorArr","errorMsg","map","e","control","StyledFormControl","error","required","InputLabel","htmlFor","cloneElement","FormHelperText","fontSize","InlineWrapper","FormControlWrapper","FormControl","div","MyInput","processProps","init","value","fValue","formatValue","inputStyle","height","marginTop","handleChange","event","newValue","isNumberType","Utils","number","isNumeric","parseFloat","onChange","handleBlur","onBlur","v","formatNumber","fval","undefined","textAlign","paddingRight","nextProps","placeholder","noUnderline","area","rows","rowsMax","StyledInput","disableUnderline","startAdornment","endAdornment","InputAdornment","position","multiline","Input","MySelect","values","all","multiple","adornment","options","x","i","MenuItem","key","StyledSelect","input","Select","StyledFormControlLabel","FormControlLabel","bgColor","selectedColor","css","bgHoverColor","StyledRadio","Radio","MyOption","optionStyles","selected","checkedIcon","uncheckedIcon","simple","radio","checked","MyOptionGroup","renderOptions","selectedValue","option","compact","concat","StyledFormLabel","FormLabel","withForm","Form","FormContainer","handleToggle","field","isInputChecked","data","bool","handleFiles","files","newObj","ds","updateObject","handleResetChange","resetData","forEach","prop","handleSubmit","preventDefault","update","create","handleEscape","cancel","handleEscapeKey","handleSubmitKey","shiftKey","renderForm","initData","isEmpty","displayName","GridWrapper","dashboard","admin","GridCell","span2","span3","DragDropContext","HTML5Backend","PagesWrapper","TablePaginationActions","handleFirstPageButtonClick","onChangePage","handleBackButtonClick","page","handleNextButtonClick","handleLastPageButtonClick","Math","max","ceil","count","rowsPerPage","handlePageClick","numPages","pages","forcePage","pageCount","pageRangeDisplayed","marginPagesDisplayed","onPageChange","minWidth","marginLeft","justifyContent","alignItems","StyledRow","TableRow","borderless","ExpandButton","expanded","handleClick","ExpandedRow","columns","TableCell","colSpan","length","Table","margin","TableHead","TableBody","SubMenu","Menu","withDragDropContext","createSortHandler","colName","onSort","openFilterMenu","anchorName","currentTarget","closeFilterMenu","handleFilter","item","onFilterChange","submitFilter","applyFilter","closeFilter","resetFilter","renderFilter","col","colFilters","filters","anchorEl","columnFilters","table","Array","isArray","onClose","open","Boolean","paddingLeft","Checkbox","flexDirection","renderCols","actions","expandable","hasAction","sorting","renderHead","nextSortOrder","order","alignCenter","numeric","disablePadding","sortDirection","orderBy","enterDelay","TableSortLabel","active","direction","add","renderFormElem","editable","get","render","defaultValue","defaultName","submit","loadingUpdate","renderRowForm","save","deleteAction","RowForm","onKeyUp","j","assembleActions","onChangeEdit","config","handleEdit","handleAdd","remove","view","edit","toggleEdit","toggleAdd","delete","onChangeAdd","renderRow","parentKey","toggle","toggleExpansion","union","condition","expandActions","hasParticularAction","rowContent","styles","uri","move","DraggableRow","withDraggable","row","rowStyles","renderRows","editFn","updateLoading","updatables","insertables","editing","adding","tooltips","pagination","withoutHeader","handleChangePage","handleChangeRowsPerPage","removeProps","filter","tableLayout","TableFooter","TablePagination","onChangeRowsPerPage","ActionsComponent","List","prepareExpandable","mapping","handleFilterChange","prevState","handleColumnFilter","applyColumnFilter","filterIsActive","resetColumnFilter","handleSort","hoverId","dragItem","find","dragIdx","findIndex","hoverIdx","newValues","$splice","a","async","handler","console","warn","renderStatus","status","renderSearch","search","searchFilter","statusFilter","searchValue","toLowerCase","searchIn","some","nameItem","accessedValue","isNaN","String","includes","Object","keys","log","removeProp","colItem","storeKey","store","depth","change","rowsPerPageOptions","total","addRows","filteredValues","sortByProp","pageValues","slice","App","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b2b03bf5.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport Icon from '@material-ui/core/Icon';\n\n\nclass Alert extends Component {\n  constructor(props) {\n    super(props);\n\n    const dismissible = props.dismissible;\n\n    const myClass = ['alert', 'alert-' + this.props.color, (dismissible ? 'alert-dismissible' : null)].join(' ').trim();\n\n    // by default show icon\n    const showIcon = props.showIcon ? props.showIcon : false;\n\n    this.state = {\n      myClass,\n      dismissible,\n      showIcon\n    };\n\n    this.handleDismiss = this.handleDismiss.bind(this);\n  }\n\n  static propTypes() {\n    return {\n      color: React.PropTypes.string.isRequired,\n      children: React.PropTypes.element.isRequired,\n      dismissible: React.PropTypes.boolean,\n      onDismiss: React.PropTypes.function,\n      showIcon: React.PropTypes.boolean\n    };\n  }\n\n  handleDismiss() {\n    this.props.onDismiss(this.props);\n  }\n\n  render() {\n    const { noMargin } = this.props;\n    let dismissible = null;\n\n    if (this.state.dismissible) {\n      dismissible = (\n        <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={this.handleDismiss}>\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      );\n    }\n\n    let iconName;\n    //const iconName = UiUtils.colorToIcon(this.props.color);\n\n    let icon = null;\n    if (iconName !== null && this.state.showIcon) icon = <Icon name={iconName} />;\n\n    // TODO: use styled component instead of app.css classes (use standard orange, green etc)\n    return (\n      <div className={`${this.state.myClass}${noMargin ? '' : ' top-20'}`}>\n        {dismissible}\n        {icon}\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default Alert;","import React, { Component } from 'react';\nimport styled from 'styled-components';\n\n// import { withTheme } from '@material-ui/core/styles';\n\n\nclass Loader extends Component {\n  render() {\n    return (\n      <div className={'loader ' + this.props.className}>\n        <div className=\"ball-scale-ripple loader-inner\">\n          <div />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst StyledLoader = styled(Loader)`\n  margin: 0 auto;\n\n  .ball-scale-ripple > div {\n    border: ${props => props.thickness}px solid ${props => props.color || '#0000ff'};\n    width: ${props => props.radius}px;\n    height: ${props => props.radius}px;\n  }\n`;\n\n\nStyledLoader.defaultProps = {\n  thickness: 2,\n  radius: 50,\n}\n\n// export default withTheme()(StyledLoader);\nexport default StyledLoader;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport Button from '@material-ui/core/Button';\n\nimport Loader from './loader.jsx';\n\n\nclass MyButton extends Component {\n  render() {\n    const { label, type, onClick, href, target, primary, flat, outlined, form, focus, loading, disabled, prefix, fullWidth } = this.props;\n    let { suffix, style } = this.props;\n\n    let additionalProps = {};\n    if (form) additionalProps.form = form;\n\n    if (loading) \n      suffix = (\n        <span style={{display: 'inline-block'}}>\n          <Loader thickness={1} radius={18} />\n        </span>\n      );\n\n    let color = \"default\";\n    if (primary) color = \"primary\";\n\n    let variant = null;\n    if (flat) {\n      variant = 'text';\n    } else if (outlined) {\n      variant = 'outlined'\n    } else {\n      variant = 'contained'\n    }\n\n    if (!style) style = {};\n    if (fullWidth) style.width = '100%';\n\n    // NOTE: icon is either passed as prefix or suffix\n    const btn = (\n      <Button\n        type={type ? type : 'button'}\n        autoFocus={focus ? true : false}\n        onClick={onClick}\n        disabled={loading || disabled}\n        color={color}\n        href={href}\n        variant={variant}\n        style={style}>\n        {prefix}\n        <StyledSpan suffixed={!!suffix} prefixed={!!prefix}>{label}</StyledSpan>\n        {suffix}\n      </Button>\n    );\n\n    if (target) {\n      return (\n        <Link to={target}>{btn}</Link>\n      );\n    } else {\n      return btn;\n    }\n  }\n}\n\nconst StyledSpan = styled.span`\n  ${props => props.prefixed && `\n    margin-left: 5px;\n  `}\n\n  ${props => props.suffixed && `\n    margin-right: 5px;\n  `}\n`\n\n// NOTE: accessing MUI themes from component (https://stackoverflow.com/questions/43281020/reference-to-themes-primary-color-instead-of-a-specific-color-in-material-ui)\nexport default MyButton;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\n\n\nexport default props => <IconButton className=\"icon-button\" style={{padding: 3}} {...props} />;","import Tooltip from '@material-ui/core/Tooltip';\n\nexport default Tooltip;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Tooltip from '@material-ui/core/Tooltip';\n\n\nclass OverflowTooltip extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { show: false };\n  }\n\n  componentDidMount() {\n    const el = this.element;\n    const hasOverflowingChildren = el.offsetWidth < el.scrollWidth;\n    this.setState({ show: hasOverflowingChildren });\n  }\n\n  render() {\n    const { placement, style, children } = this.props;\n    const { show } = this.state;\n\n    const childWrapper = (\n      <div style={style || {}} ref={el => this.element = el}>\n        {children}\n      </div>\n    );\n\n    return show ? (\n      <Tooltip\n        id=\"tooltip\"\n        placement={placement || \"top\"}\n        title={children}>\n        {childWrapper}\n      </Tooltip>\n    ) : childWrapper;\n  }\n}\n\nOverflowTooltip.propTypes = {\n  placement: PropTypes.string,\n  style: PropTypes.object\n}\n\nexport default OverflowTooltip;","import React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { DragSource, DropTarget } from 'react-dnd';\n\n\n// taken from ES6 code: https://react-dnd.github.io/react-dnd/docs-drag-source.html\nconst rowSource = {\n// Return the data describing the dragged item\n  beginDrag: (props) => {\n    return { id: props.id, idx: props.idx };\n  }\n};\n\nconst rowTarget = {\n  // taken from: https://react-dnd.github.io/react-dnd/examples-sortable-simple.html\n  hover: (props, monitor, component) => {\n    const dragIndex = monitor.getItem().idx\n    const hoverIndex = props.idx\n\n    // Don't replace items with themselves\n    if (dragIndex !== hoverIndex) {\n      monitor.getItem().idx = hoverIndex;\n      monitor.getItem().lastId = props.id;\n      const dragId = monitor.getItem().id;\n      props.onMove(dragId, props.id, props);\n      //props.onMove(dragIndex, hoverIndex)\n      // NOTE: we're mutating the monitor item here!\n      // Generally it's better to avoid mutations,\n      // but it's good here for the sake of performance\n      // to avoid expensive index searches.\n    }\n  },\n  drop: (props, monitor) => {\n    const targetId = monitor.getItem().lastId;\n    const draggedId = monitor.getItem().id;\n    if (draggedId !== targetId) {\n      props.onDrop(draggedId, targetId, props);\n    }\n  }\n};\n\nconst sourceCollect = (connect, monitor) => {\n  return {\n    // Call this function inside render()\n    // to let React DnD handle the drag events:\n    connectDragSource: connect.dragSource(),\n    // You can ask the monitor about the current drag state:\n    isDragging: monitor.isDragging()\n  };\n}\n\nconst targetCollect = (connect) => {\n  return {\n    connectDropTarget: connect.dropTarget()\n  };\n}\n\n\n// NOTE: this is a thunk with arrow functions: https://daveceddia.com/what-is-a-thunk/\nconst draggable = Component => children => {\n  class Draggable extends React.Component {\n    connect = instance => {\n      const { connectDragSource, connectDropTarget } = this.props;\n      const node = findDOMNode(instance);\n      connectDragSource(node);\n      connectDropTarget(node);\n    }\n\n    render() {\n      const { isDragging } = this.props;\n      const opacity = isDragging ? 0 : 1;\n      const style = {opacity, backgroundColor: 'rgba(255, 255, 255, .8)'};\n      // for native components (<div> etc.): connectDragSource(connectDropTarget(component)); \n      // ref is fix for non-native elements taken from https://github.com/react-dnd/react-dnd/issues/347\n      return <Component ref={this.connect} style={style}>{children}</Component>;\n    }\n  }\n  const source = DragSource('item', rowSource, sourceCollect)(Draggable);\n  return DropTarget('item', rowTarget, targetCollect)(source);\n}\n\nexport default draggable;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\n\n\nclass Wrapper extends Component {\n  render() {\n    const { label, name, errors, mandatory, inline, style, shrink, widthAuto, className } = this.props;\n\n    // TODO: manage focus by passing onFocus / onBlur to FormLabel\n    const labelProps = {}\n    if (shrink) labelProps.shrink = true;\n\n    let errorArr, errorMsg = null;\n    if (errors && name in errors) errorArr = errors[name];\n    if (errorArr) errorMsg = errorArr.map(e => e).join(\", \"); // i18n.translate(e)\n\n    const control = (\n      <StyledFormControl error={!!errorMsg} required={mandatory} fullWidth={!widthAuto} label={!!label}>\n        {label ? <InputLabel htmlFor={name} {...labelProps} className={className}>{label}</InputLabel> : '' }\n        {React.cloneElement(this.props.children, { required: mandatory, name })}\n        {errorMsg ? <FormHelperText style={{fontSize: 14}}>{errorMsg}</FormHelperText> : ''}\n      </StyledFormControl>\n    );\n\n    if (inline) {\n      return style ? <InlineWrapper style={style}>{control}</InlineWrapper> : control;\n    } else {\n      return (\n        <FormControlWrapper style={style}>{control}</FormControlWrapper>\n      );\n    }\n  }\n}\n\nconst StyledFormControl = styled(FormControl)`\n  z-index: initial !important;\n  ${props => props.label && `\n    label {\n      padding-left: 10px;\n    }\n  `}\n`\n\nconst FormControlWrapper = styled.div`\n  margin-bottom: 15px;\n`\n\nconst InlineWrapper = styled.div`\n  display: inline-block;\n  margin-right: 10px;\n\n  &:last-child {\n    margin-right: 0px;\n  }\n`\n\nWrapper.propTypes = {\n  children: PropTypes.element.isRequired,\n  errors: PropTypes.object,\n  label: PropTypes.string,\n  name: PropTypes.string,\n  mandatory: PropTypes.bool,\n  inline: PropTypes.bool\n}\n\nexport default Wrapper;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\n\nimport Utils from '@nexys/utils';\n\n\nclass MyInput extends Component {\n  constructor(props) {\n    super(props);\n    this.processProps(props, true);\n  }\n\n  // TODO: number vs text\n  processProps = (props, init) => {\n    // get type\n    let type = '';\n    switch (props.type) {\n      case 'email':\n        type = 'email';\n        break;\n      case 'password':\n        type = 'password';\n        break;\n      case 'tel':\n        type = 'tel';\n        break;\n      default: // set text as default\n        type = 'text';\n        break;\n    }\n\n    const name = props.name;\n    const value = props.value;\n\n    let disabled = false;\n    if (props.disabled) disabled = true;\n\n    // formatted value - value that will be displayed\n    const fValue = this.formatValue(props.value);\n\n    let style = this.inputStyle();\n    style.height = '56px';\n    style.marginTop = '5px';\n    if (props.style) style = { ...style, ...props.style };\n\n    // value is raw input, fValue is formatted input\n    const state = {\n      type,\n      name,\n      value,\n      fValue,\n      style,\n      disabled\n    };\n\n    /* eslint-disable react/no-direct-mutation-state */\n    if (init) this.state = state;\n    else this.setState({...state});\n    //this.setState({...state});\n  }\n\n  // depending on the 'type' format the value\n  formatValue(v) {\n    switch (this.props.type) {\n      case 'number':\n        return Utils.number.formatNumber(v);\n      default: {\n        let fval = v;\n        if (fval === undefined) fval = '';\n        return fval;\n      }\n    }\n  }\n\n  isNumberType() {\n    switch (this.props.type) {\n      case 'number':\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  // depending on the 'type' assign style\n  inputStyle() {\n    switch (this.props.type) {\n      case 'number':\n        return {textAlign: 'right', paddingRight: '5px'};\n      default:\n        return {};\n    }\n  }\n\n  handleChange = event => {\n    // get new value\n    let newValue = event.target.value;\n    if (!this.isNumberType() || (this.isNumberType() && (Utils.number.isNumeric(newValue) || newValue === ''))) {\n      if (this.isNumberType()) {\n        if (newValue === '') {\n          newValue = 0;\n        } else {\n          newValue = parseFloat(newValue);\n        }\n      }\n      // update state\n      this.setState({fValue: newValue});\n\n      // calls parent function\n      this.props.onChange({name: this.state.name, value: newValue});\n    }\n  }\n\n  handleBlur = event => {\n    const { onBlur } = this.props;\n    if (onBlur) onBlur(event);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.processProps(nextProps, false);\n  }\n\n  render() {\n    let { placeholder, noUnderline, focus, prefix, suffix, area, rows, rowsMax } = this.props;\n    const { type } = this.state;\n    return (\n      <StyledInput\n        type={type ? type : 'text'}\n        value={this.state.fValue ? this.state.fValue : ''}\n        onChange={this.handleChange}\n        onBlur={this.handleBlur}\n        placeholder={placeholder}\n        autoFocus={focus ? true : false}\n        disabled={this.state.disabled ? true : undefined}\n        disableUnderline={noUnderline}\n        startAdornment={prefix && prefix}\n        endAdornment={suffix && <InputAdornment position=\"end\">{suffix}</InputAdornment>}\n        multiline={area && true}\n        rows={rows}\n        rowsMax={rowsMax}\n        fullWidth\n      />\n    );\n  }\n}\n\nconst StyledInput = styled(Input)`\n  input, textarea {\n    padding-left: 10px;\n  }\n`\n\nMyInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  type: PropTypes.string,\n  errors: PropTypes.object,\n  label: PropTypes.string,\n  value: PropTypes.string,\n  placeholder: PropTypes.string,\n  mandatory: PropTypes.bool,\n  disabled: PropTypes.bool\n};\n\nexport default MyInput;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\n\n\nclass MySelect extends Component {\n  handleChange = event => {\n    const { onChange, name } = this.props;\n    const value = event.target.value;\n    this.setState({value});\n    onChange({name, value});\n  }\n\n  render() {\n    const { name, value, values=[], disabled, all, placeholder, multiple, adornment } = this.props;\n\n    const options = values.map((x, i) => <MenuItem key={i+1} value={x.id}>{x.name}</MenuItem>)\n\n    return (\n      <StyledSelect\n        value={value}\n        onChange={this.handleChange}\n        input={<Input name={name} endAdornment={<InputAdornment>{adornment}</InputAdornment>} />}\n        placeholder={placeholder}\n        disabled={disabled}\n        multiple={multiple}>\n        {all ? <MenuItem key={0} value={0}>{'select.all'}</MenuItem> : ''}\n        {/* {i18n.translate('select.all', null, false) */ }\n        {options}\n      </StyledSelect>\n    );\n  }\n}\n\nconst StyledSelect = styled(Select)`\n  text-align: left;\n\n  > div {\n    &:first-child {\n      padding-left: 10px;\n    }\n  }\n`\n\nMySelect.propTypes = {\n  name: PropTypes.string.isRequired,\n  values: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  errors: PropTypes.object,\n  label: PropTypes.string,\n  value: PropTypes.number,\n  disabled: PropTypes.bool,\n  mandatory: PropTypes.bool\n};\n\nexport default MySelect;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled, { css } from 'styled-components';\n\nimport Icon from '@material-ui/core/Icon';\n\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\n\nconst StyledFormControlLabel = styled(FormControlLabel)`\n  padding: 7px 3px;\n  padding-right: 13px;\n  background-color: ${props => props.style.bgColor};\n  border-radius: 5px;\n  border: 1px solid #eaeaea;\n  margin: 2px;\n  ${props => props.style.selectedColor !== 'black' && css`\n    border: 2px solid ${props.style.selectedColor};\n  `}\n\n  &:hover {\n    background-color: ${props => props.style.bgHoverColor};\n  }\n\n  span:first-child {\n    height: auto !important;\n    width: 36px !important;\n  }\n`;\n\nconst StyledRadio = styled(Radio)`\n  padding: 0 !important;\n`\n\nclass MyOption extends Component {\n  constructor(props) {\n    super(props);\n    this.optionStyles = {\n      bgColor: '#f8f8f8',\n      bgHoverColor: '#efefef'\n    };\n  }\n\n  handleChange = e => {\n    const { name, value } = this.props;\n    this.props.handleChange({name, value});\n  }\n\n  render() {\n    const { value, name, label, selected, checkedIcon, uncheckedIcon, selectedColor, simple } = this.props;\n\n    let radio = (\n      <StyledRadio\n        name={name}\n        checked={selected}\n        icon={<Icon color=\"primary\">{uncheckedIcon}</Icon>}\n        checkedIcon={<Icon color=\"primary\">{checkedIcon}</Icon>}\n        onChange={this.handleChange}\n      />\n    );\n\n    if (simple) {\n      radio = (\n        <StyledRadio\n          name={name}\n          checked={selected}\n          onChange={this.handleChange}\n          color=\"primary\"\n        />\n      );\n    }\n\n    const optionStyles = {\n      ...this.optionStyles,\n      selectedColor\n    };\n\n    return <StyledFormControlLabel value={value} control={radio} label={label} style={optionStyles} />;\n    // label={i18n.translate(label)}\n  }\n}\n\nMyOption.propTypes = {\n  label: PropTypes.string.isRequired\n};\n\nexport default MyOption;","import React, { Component } from 'react';\nimport styled from 'styled-components';\n\nimport MyOption from './option.jsx';\nimport { FormControl, FormLabel } from '@material-ui/core';\n\n\nclass MyOptionGroup extends Component {\n  renderOptions = options => {\n    const { name, selectedValue, handleChange, selectedColor, simple } = this.props;\n\n    // TODO: support multiselect\n    return options.map((option, idx) => {\n      // NOTE: handle boolean values (otherwise id is used to fallback on falsE value)\n      const value = typeof option.value === 'boolean' ? option.value : (option.value || option.id);\n      const checked = selectedValue === value;\n\n      return (\n        <MyOption \n          key={`${name}-option-${idx}`}\n          selected={checked}\n          handleChange={handleChange}\n          selectedColor={selectedColor && checked ? selectedColor : 'black'}\n          {...option}\n          name={name}\n          value={value}\n          label={option.label || option.name}\n          simple={simple || false}\n        />\n      );\n    });\n  }\n\n  render() {\n    let { all, label, style, options, compact } = this.props;\n\n    options = all ? [{ id: 0, name: 'All' }].concat(options) : options;\n\n    return (\n      <StyledFormControl component=\"div\" compact={!!compact} style={style}>\n        {label && <StyledFormLabel component=\"span\" className=\"label\">{label}</StyledFormLabel>}\n        <div className=\"options\">{this.renderOptions(options)}</div>\n      </StyledFormControl>\n    );\n  }\n}\n\nconst StyledFormControl = styled(FormControl)`\n  display: flex !important;\n  flex-direction: row !important;\n  justify-content: ${props => (props.compact ? 'flex-start' : 'space-between')} !important;\n\n  .label {\n    margin-right: 15px;\n  }\n\n  .options {\n    display: flex;\n    flex-wrap: wrap;\n    margin-left: 20px;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column !important;\n\n    .label {\n      display: none;\n    }\n\n    .options {\n      margin: 0;\n    }\n  }\n`;\n\nconst StyledFormLabel = styled(FormLabel)`\n  line-height: 47px !important;\n  width: auto;\n  float: left;\n`;\n\nexport default MyOptionGroup;","import React, { Component } from 'react';\n\nimport Utils from '@nexys/utils';\n\n\nconst withForm = Form => {\n  class FormContainer extends Component {\n    constructor(props) {\n      super(props);\n\n      const { initData, data } = props;\n      this.state = { data: {...initData, ...data} };\n    }\n\n    componentWillReceiveProps(nextProps) {\n      const { initData, data } = nextProps;\n      if (Utils.ds.isEmpty(nextProps.errors)) this.setState({data: {...initData, ...data}});\n    }\n\n    // TODO: immutable updates https://redux.js.org/recipes/structuring-reducers/immutable-update-patterns\n    // TODO: refactor to handleBoolean\n    handleToggle = (field, isInputChecked) => {\n      if (isInputChecked !== undefined) {\n        // handle checkbox toggle\n        const { data } = this.state;\n        data[field.target.name] = isInputChecked;\n        this.setState({data});\n      } else {\n        // handle toggle\n        return () => {\n          const { data } = this.state;\n          const bool = data[field];\n          data[field] = !bool;\n          this.setState({data});\n        }\n      }\n    }\n\n    handleFiles = (files) => {\n      const { data } = this.state;\n      data.files = files;\n      this.setState({data});\n    }\n\n    handleChange = newObj => {\n      const { handleChange } = this.props;\n      if (handleChange) handleChange(newObj);\n      const data = Utils.ds.updateObject(this.state.data, newObj);\n      this.setState({data});\n    }\n\n    handleResetChange = props => newObj => {\n      const data = Utils.ds.updateObject(this.state.data, newObj);\n      let resetData = {};\n      resetData[newObj.name] = data[newObj.name];\n      props.forEach(prop => { resetData[prop] = data[prop]; });\n      this.setState({data: resetData});\n    }\n\n    handleSubmit = e => {\n      // TODO: Object.entries() if typeof value == string => newObj.value.trim()\n      if (e) e.preventDefault();\n      const { data } = this.state;\n      const { update, create } = this.props;\n\n      /*\n        if (withFiles) {\n          if (data.files && data.files.length > 0) {\n            data.files.forEach(file => {\n              const formData = MyUtils.configureFormData(file);\n              create(formData, data, this.props);\n            });\n          }\n        } else {\n      */\n\n      if (data.id) update(data.id, data, this.props);\n      else create(data, this.props);\n    }\n\n    handleEscape = () => {\n      const { data, cancel } = this.props;\n      if (data) cancel(data.id, this.props);\n    }\n\n    handleEscapeKey = e => {\n      if (e.key === 'Escape') {\n        e.preventDefault();\n        this.handleEscape();\n      }\n    }\n\n    handleSubmitKey = e => {\n      if (e.key === 'Escape') {\n        e.preventDefault();\n        const { data, cancel } = this.props;\n        cancel(data.id, this.props);\n      } else if (e.key === 'Enter' && !e.shiftKey) {\n        // TODO: https://stackoverflow.com/questions/2364141/enter-key-wont-submit-form-in-firefox-but-will-in-chrome-why\n        this.handleSubmit(e);\n      }\n    }\n\n    renderForm = () => {\n      return (\n        <Form\n          {...this.props}\n          data={this.state.data}\n          handleToggle={this.handleToggle}\n          handleChange={this.handleChange}\n          handleResetChange={this.handleResetChange}\n          handleFiles={this.handleFiles}\n          handleSubmit={this.handleSubmit}\n          handleEscape={this.handleEscape}\n          handleEscapeKey={this.handleEscapeKey}\n          handleSubmitKey={this.handleSubmitKey}\n        />\n      );\n    }\n\n    // NOTE: if you have a form with more than one input field, always include a submit button. \n    // Otherwise implicit submission will not work: https://www.tjvantoll.com/2013/01/01/enter-should-submit-forms-stop-messing-with-that/\n    render() {\n      return this.renderForm();\n    }\n  }\n\n  FormContainer.displayName = 'FormContainer';\n  return FormContainer;\n}\n\nexport default withForm;","import styled from 'styled-components';\n\nexport const GridWrapper = styled.div`\n  display: grid;\n  width: 100%;\n  grid-template-columns: repeat(${props => props.dashboard ? 4 : (props.admin ? 3 : 2)}, 1fr);\n  grid-row-gap: 20px;\n  grid-column-gap: 20px;\n  grid-auto-flow: dense;\n\n  ${props => props.dashboard && `\n    @media (max-width: 1400px) {\n      grid-template-columns: repeat(3, 1fr);\n    }\n\n    @media (max-width: 1100px) {\n      grid-template-columns: repeat(2, 1fr);\n    }\n  `}\n\n  @media (max-width: 700px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n    & > div {\n      margin-bottom: 20px;\n    }\n  }\n`;\n\nexport const GridCell = styled.div`\n  ${props => props.fullWidth && `\n    grid-column: 1 / span 2;\n  `}\n\n  ${props => props.span2 && `\n    grid-column: 1 / span 2;\n  `}\n\n  ${props => props.span3 && `\n    grid-column: 1 / span 3;\n  `}\n`;","import {DragDropContext} from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\n\nexport default DragDropContext(HTML5Backend);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport ReactPaginate from 'react-paginate';\n\nimport IconButton from '../../icon-button.jsx';\n\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\n\n/*\n  const StyledButton = styled(Button)`\n    padding: 3px !important;\n    min-width: 5px !important;\n    min-height: 12px !important;\n*/\n\nconst PagesWrapper = styled.div`\n  ul {\n    display: flex;\n    list-style-type: none;\n    padding-left: 0;\n    margin: 0;\n\n    li {\n      a {\n        padding: 3px !important;\n        min-width: 5px !important;\n        min-height: 12px !important;\n        font-size: 12px;\n        color: #777;\n      }\n\n      &.selected {\n        margin-top: -1px;\n        a {\n          text-decoration: underline;\n          color: #333;\n          font-weight: bold;\n        }\n      }\n\n      &.previous, &.next {\n        display: none;\n      }\n\n      &.break {\n        font-size: 12px;\n      }\n    }\n  }\n`;\n\nclass TablePaginationActions extends Component {\n  handleFirstPageButtonClick = event => this.props.onChangePage(event, 0);\n\n  handleBackButtonClick = event => this.props.onChangePage(event, this.props.page - 1);\n\n  handleNextButtonClick = event => this.props.onChangePage(event, this.props.page + 1);\n\n  handleLastPageButtonClick = event => this.props.onChangePage(event, Math.max(0, Math.ceil(this.props.count / this.props.rowsPerPage) - 1));\n\n  handlePageClick = (event, page) => {\n    const { onChangePage } = this.props;\n    if (event.selected || event.selected === 0) {\n      onChangePage(null, event.selected);\n    } else onChangePage(event, page);\n  }\n\n  render() {\n    const { count, page, rowsPerPage } = this.props;\n\n    const numPages = Math.ceil(count / rowsPerPage); \n\n    /*\n      DEPRECATED pages code\n      pages = [...Array(Math.ceil(count / rowsPerPage)).keys()];\n      {pages.map(currPage => <StyledButton key={currPage} size=\"small\" onClick={e => this.handlePageClick(e, currPage)} disabled={page === currPage}>{currPage+1}</StyledButton>)}\n    */\n\n    const pages = (\n      <ReactPaginate\n        forcePage={page}\n        pageCount={numPages}\n        pageRangeDisplayed={10}\n        marginPagesDisplayed={3}\n        onPageChange={this.handlePageClick}\n      />\n    );\n\n    return (\n      <div style={{minWidth: 'max-content', marginLeft: '20px', display: 'flex', justifyContent: 'space-evenly', alignItems: 'center'}}>\n        <IconButton\n          onClick={this.handleFirstPageButtonClick}\n          disabled={page === 0}\n          aria-label=\"First Page\">\n          <FirstPageIcon />\n        </IconButton>\n        <IconButton\n          onClick={this.handleBackButtonClick}\n          disabled={page === 0}\n          aria-label=\"Previous Page\">\n          <KeyboardArrowLeft />\n        </IconButton>\n        <PagesWrapper>{pages}</PagesWrapper>\n        <IconButton\n          onClick={this.handleNextButtonClick}\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n          aria-label=\"Next Page\">\n          <KeyboardArrowRight />\n        </IconButton>\n        <IconButton\n          onClick={this.handleLastPageButtonClick}\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n          aria-label=\"Last Page\">\n          <LastPageIcon />\n        </IconButton>\n      </div>\n    );\n  }\n}\n  \nTablePaginationActions.propTypes = {\n  count: PropTypes.number.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired\n};\n\nexport default TablePaginationActions;","import React from 'react';\nimport styled from 'styled-components';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport TablePagination from '@material-ui/core/TablePagination';\n\nimport TablePaginationActions from './pagination/actions.jsx';\n\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\n\nimport IconButton from '../icon-button.jsx';\n\n\nconst StyledRow = styled(TableRow)`\n  ${props => props.borderless && `\n    td {\n      border-bottom: none !important;\n    }\n  `}\n\n  height: 32px !important;\n  &:first-child {\n    td {\n      border-top: none !important;\n    }\n  }\n\n  &:last-child {\n    td {\n      border-bottom: none !important;\n    }\n  }\n\n  td, th {\n    padding: 0 10px 0 5px !important;\n    font-size: 14px !important;\n    border-bottom: 2px solid #f3f3f3;\n\n    > div {\n      // max-width: 300px;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n\n  div[role=\"button\"] {\n    font-size: 12px !important;\n  }\n\n  button {\n    &.icon-button {\n      padding: 3px;\n      height: auto;\n      margin-left: 3px;\n    }\n  }\n`;\n\nconst ExpandButton = ({expanded, handleClick}) => (\n  <IconButton onClick={handleClick}> \n    {expanded ? <ExpandLess /> : <ExpandMore />}\n  </IconButton>\n);\n\nconst ExpandedRow = ({columns, children}) => (\n  <StyledRow borderless>\n    <TableCell colSpan={columns.length}>\n      <Table style={{margin: '10px 0 5px 15px'}}>\n        <TableHead>\n          {columns}\n        </TableHead>\n        <TableBody>{children}</TableBody>\n      </Table>\n    </TableCell>\n  </StyledRow>\n);\n\nexport {\n  Table,\n  TableHead,\n  TableBody,\n  StyledRow as TableRow,\n  ExpandedRow,\n  TableCell,\n  ExpandButton,\n  TableFooter,\n  TableSortLabel,\n  TablePagination,\n  TablePaginationActions\n};","import React, { Component, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport { Alert, Tooltip, OverflowTooltip, IconButton, Loader, withDraggable, Button } from '../components';\nimport { Wrapper, Select, Input, withForm } from '../components/form';\nimport withDragDropContext from '../components/withDragDropContext.js';\n\nimport {\n  Table, \n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  ExpandedRow,\n  ExpandButton,\n  TableFooter,\n  TableSortLabel,\n  TablePagination,\n  TablePaginationActions\n} from '../components/table';\n\nimport Icon from '@material-ui/core/Icon';\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\n\n\nimport Utils from '@nexys/utils';\n\n\nconst SubMenu = styled(Menu)`\n  ul {\n    padding: 0 !important;\n\n    li {\n      height: 18px;\n      padding: 12px;\n    }\n  }\n`;\n\n\nclass MuiTable extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      tooltips: {}\n    };\n  }\n\n  createSortHandler = colName => e => this.props.onSort(colName);\n\n  openFilterMenu = anchorName => event => this.setState({[anchorName]: event.currentTarget});\n  closeFilterMenu = anchorName => e => this.setState({[anchorName]: null});\n\n  handleFilter = (e, checked, item, colName) => this.props.onFilterChange(checked, item, colName);\n\n  submitFilter = colName => {\n    const { applyFilter } = this.props;\n    const closeFilter = this.closeFilterMenu(colName);\n    closeFilter();\n    applyFilter(colName);\n  }\n\n  resetFilter = colName => {\n    const { resetFilter } = this.props;\n    const closeFilter = this.closeFilterMenu(colName);\n    closeFilter();\n    resetFilter(colName);\n  }\n\n  renderFilter = col => {\n    const { filters } = this.props;\n    const colFilters = filters[col.name];\n\n    const anchorName = col.name;\n    const anchorEl = this.state[anchorName];\n\n    // TODO: refactor filters\n    let columnFilters = col.table && col.table.filters;\n    if (!Array.isArray(columnFilters)) columnFilters = this.props[columnFilters];\n\n    return (\n      <SubMenu\n        id=\"filter-menu\"\n        anchorEl={anchorEl}\n        onClose={this.closeFilterMenu(anchorName)}\n        open={Boolean(anchorEl)}>\n        {columnFilters.map(item => (\n          <MenuItem onClick={() => {}} style={{paddingLeft: 15}}>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  name={item.name}\n                  color=\"primary\"\n                  checked={colFilters && colFilters[item.value || item.name]}\n                  onChange={(e, checked) => this.handleFilter(e, checked, item, col.name)}\n                />\n              }\n              label={item.label || item.name}\n            />\n          </MenuItem>\n        ))}\n        <div style={{display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}>\n          {/* TODO: i18n.translate */}\n          <Button onClick={() => this.submitFilter(col.name)} label={'submit'} primary flat />\n          <Button onClick={() => this.resetFilter(col.name)} label={'reset'} primary flat />\n        </div>\n      </SubMenu>\n    );\n  }\n\n  // TODO: hiddenColumns\n  renderCols = (columns, actions={}, expandable, hasAction) => {\n    hasAction = hasAction || expandable;\n\n    let { create } = actions;\n    let { sorting } = this.props;\n\n    columns = columns.map((col, id) => {\n      const value = col.renderHead ? col.renderHead(col) : col.label; // i18n.translate(col.label) \n      const nextSortOrder = (sorting && sorting.order === 'asc' ? 'desc' : 'asc') || 'desc';\n\n      // NOTE: column filter\n      let columnFilters = col.table && col.table.filters;\n      if (!Array.isArray(columnFilters)) columnFilters = this.props[columnFilters];\n\n      return (\n        <TableCell\n          key={`table-column-${id}`} \n          className={col.alignCenter && \"text-center\"}\n          numeric={col.numeric || false}\n          padding={col.disablePadding ? 'none' : 'default'}\n          sortDirection={sorting && sorting.orderBy === col.name ? sorting.order : false}>\n          {col.table && col.table.sorting ? \n            <Tooltip\n              id={`${col.name}-sort-tooltip`}\n              title={`Sort ${nextSortOrder}`}\n              placement={col.numeric ? 'bottom-end' : 'bottom-start'}\n              enterDelay={300}>\n              <TableSortLabel\n                active={sorting && sorting.orderBy === col.name}\n                direction={(sorting && sorting.order) || 'desc'}\n                onClick={this.createSortHandler(col.name)}>\n                {value}\n              </TableSortLabel>\n            </Tooltip> : value\n          }\n          {columnFilters && (\n            <Fragment>\n              <Tooltip\n                id={`${col.name}-filter-tooltip`}\n                title={'filter.info'} // TODO: i18n.translate(..)\n                placement=\"top\"\n                enterDelay={300}>\n                <IconButton\n                  style={{fontSize: 16}}\n                  onClick={this.openFilterMenu(col.name)}>\n                  <Icon style={{fontSize: 16}}>filter_list</Icon>\n                </IconButton>\n              </Tooltip>\n              {this.renderFilter(col)}\n            </Fragment>\n          )}\n        </TableCell>\n      );\n    });\n\n    if (hasAction) {\n      let col = <TableCell style={{width: 200}} />;\n      if (create) {\n        col = (\n          <TableCell style={{width: 200, textAlign: 'right'}}>\n            <IconButton onClick={e => this.props.add()}>\n              <Icon color=\"primary\">add_box</Icon>\n            </IconButton> \n          </TableCell>\n        );\n      }\n      columns = columns.concat([col]);\n    }\n    \n    return columns;\n  }\n  \n  renderFormElem = (editable, col, item, handleChange) => {\n    const { errors } = this.props;\n\n    const name = (editable && editable.name) || col.name;\n    const value = Utils.ds.get(name, item);\n\n    if (editable.render) {\n      return editable.render(name, value, item, this.props);\n    }\n\n    const defaultValue = Utils.ds.get(editable.defaultName || name, item);\n    switch (editable.type) {\n      case 'select': {\n        return (\n          <Wrapper name={name} errors={errors} inline>\n            <Select\n              value={value || defaultValue}\n              values={this.props[editable.values]}\n              onChange={handleChange}\n            />\n          </Wrapper>\n        )\n      }\n      default:\n        return (\n          <Wrapper name={name} errors={errors} inline>\n            <Input\n              type=\"text\"\n              value={value}\n              onChange={handleChange}\n              focus\n            />\n          </Wrapper> \n        );\n    }\n  }\n\n  // TODO: if errors keep toggled\n  submit = (e, handleSubmit, handleEscape) => {\n    if (e.key) {\n      if (e.key === 'Enter' && !e.shiftKey) {\n        this.props.loadingUpdate();\n        handleEscape();\n      }\n      handleSubmit(e);\n    } else {\n      this.props.loadingUpdate();\n      handleEscape();\n      handleSubmit(e);\n    }\n  }\n\n  renderRowForm = (data, onChange, {save, cancel, deleteAction}, columns, i) => {\n    // TODO: show loader inside row while update takes place\n    const RowForm = withForm(({data, handleChange, handleSubmit, handleSubmitKey, handleEscape}) => (\n      <TableRow key={i} onKeyUp={e => this.submit(e, handleSubmitKey, handleEscape)}>\n        {columns.map((col, j) => (\n          <TableCell\n            padding={j===0 ? \"none\" : 'default'}\n            numeric={col.numeric || false}\n            className={col.alignCenter && \"text-center\"}>\n            {col.editable ? (\n              this.renderFormElem(col.editable, col, data, handleChange)\n            ) : (\n              <OverflowTooltip>{col.render(data, col, this.props)}</OverflowTooltip>\n            )}\n          </TableCell>\n        ))} \n        <TableCell style={{width: 200, textAlign: 'right'}}>\n          {/* TODO: i18n.translate(..) */}\n          <Tooltip id=\"edit.save\" enterDelay={500} title={'save'} placement=\"top\">\n            <IconButton onClick={e => this.submit(e, handleSubmit, handleEscape)}>\n              <Icon color=\"primary\">save</Icon>\n            </IconButton>\n          </Tooltip>\n          {data.add ? (\n            <Tooltip id=\"delete\" enterDelay={500} title={'delete'} placement=\"top\">\n              {/* TODO: i18n.translate(..) */}\n              <IconButton onClick={() => {\n                handleEscape();\n                deleteAction(data.id);\n              }}>\n                <Icon>delete</Icon>\n              </IconButton>\n            </Tooltip>\n          ) : (\n            <Tooltip id=\"edit.cancel\" enterDelay={500} title={'cancel'} placement=\"top\">\n              {/* TODO: i18n.translate(..) */}\n              <IconButton onClick={handleEscape}>\n                <Icon>cancel</Icon>\n              </IconButton>\n            </Tooltip>\n          )}\n        </TableCell>\n      </TableRow>\n    ));\n\n    // TODO: handle nested errors\n    // TODO: display errors without label\n    return (\n      <RowForm\n        {...this.props}\n        data={data}\n        handleChange={onChange(data.id)}\n        update={save}\n        cancel={cancel}\n        inline\n      />\n    );\n  }\n\n  assembleActions = (config={}, values, key) => {\n    const { handleEdit, handleAdd, remove } = this.props;\n    const { view=false, edit=false, update=false, create=false } = config;\n    let { toggleEdit, toggleAdd } = this.props;\n    let { delete: deleteAction=false } = config;\n\n    let onChangeEdit, onChangeAdd = false;\n\n    if (edit) {\n      toggleEdit = toggleEdit(values, key);\n      onChangeEdit = handleEdit(key);\n    }\n\n    if (create) {\n      toggleAdd = toggleAdd(values, key);\n      onChangeAdd = handleAdd(key);\n      deleteAction = remove(key); \n    }\n\n    return {\n      view,\n      edit,\n      toggleEdit,\n      update,\n      toggleAdd,\n      create,\n      deleteAction,\n      onChangeEdit,\n      onChangeAdd\n    };\n  }\n\n  renderRow = (item, actions, expandable, columns, parentKey, i) => {\n    let { view, edit, deleteAction, toggle } = actions;\n    const { config, draggable, toggleExpansion } = this.props;\n\n    /*** HETEROGENEOUS TABLE ***/\n    let flip = false;\n    if (config && config.union) {\n      const { union } = config;\n      if (union.condition) {\n        flip = union.condition(item);\n        if (flip) {\n          deleteAction = union.delete;\n          columns = union.columns;\n          edit = false;\n          view = false;\n        }\n      }\n    }\n    /***************************/\n\n    /*** EXPANDABLE TABLE ***/\n    let expandActions = null;\n    let children = null;\n    if (expandable) {\n      children = item[expandable.children];\n      // key = item.id => this.props.add(item.id)\n      expandActions = (\n        <Fragment>\n          {expandable.create && (\n            <IconButton onClick={() => expandable.create(item)}>\n              <Icon color=\"primary\">add_box</Icon>\n            </IconButton>\n          )}\n          {children && children.length > 0 && (\n            <ExpandButton\n              expanded={item.expanded}\n              handleClick={() => toggleExpansion(item.id)} \n            />\n          )}\n        </Fragment>\n      );\n    }\n    /************************/\n\n    const hasParticularAction = (view || edit || deleteAction || expandActions);\n\n    const rowContent = (\n      <Fragment>\n        {columns.map((col, j) => (\n          <TableCell\n            numeric={col.numeric || false}\n            colSpan={col.span || 1}\n            padding={j===0 ? \"none\" : \"default\"}\n            className={col.alignCenter && \"text-center\"}\n            style={col.styles && col.styles(item)}>\n            <OverflowTooltip>\n              {(col.view || (col.uri && col.uri(item))) ?\n                <Link to={col.view ? view && view(item, this.props) : col.uri(item)}>{col.render(item, col, this.props)}</Link>\n                : col.render(item, col, this.props)\n              }\n            </OverflowTooltip>\n          </TableCell>\n        ))} \n        {hasParticularAction && (\n          <TableCell style={{width: 200}} className=\"text-right\">\n            {edit && (\n              <Tooltip id=\"edit.inline\" enterDelay={500} title={'edit.inline'} placement=\"top\">\n                {/* TODO: i18n.translate(..) */}\n                <IconButton onClick={() => toggle(item.id)}>\n                  <Icon>edit</Icon>\n                </IconButton>\n              </Tooltip>\n            )}\n            {view && (\n              <Link to={view(item, this.props)}>\n                <Tooltip id=\"view.detail\" enterDelay={500} title={'view.detail'} placement=\"top\">\n                  {/* TODO: i18n.translate(..) */}\n                  <IconButton>\n                    <Icon>pageview</Icon>\n                  </IconButton>\n                </Tooltip>\n              </Link>\n            )}\n            {deleteAction && (\n              <Tooltip id=\"delete\" enterDelay={500} title={'edit.delete'} placement=\"top\">\n                {/* TODO: i18n.translate(..) */}\n                <IconButton onClick={() => deleteAction(item.id, item)}>\n                  <Icon>delete</Icon>\n                </IconButton>\n              </Tooltip>\n            )}\n            {expandActions}\n          </TableCell>\n        )}\n      </Fragment>\n    );\n\n    if (draggable) {\n      const { move, drop } = draggable;\n      const DraggableRow = withDraggable(TableRow)(rowContent);\n      return <DraggableRow key={item.id} idx={i} {...item} onMove={move} onDrop={drop} />;\n    }\n\n    const row = <TableRow key={i} style={config && config.rowStyles && config.rowStyles(item)}>{rowContent}</TableRow>\n\n    if (children && item.expanded) {\n      let key = item.id;\n      if (parentKey) key = `${parentKey}-${key}`;\n      const actions = this.assembleActions(expandable, children, key);\n      return (\n        <Fragment>\n          {row}\n          <ExpandedRow\n            columns={this.renderCols(expandable.columns, actions, expandable.expandable)}>\n            {this.renderRows(children, expandable.columns, actions, expandable.expandable, key)}\n          </ExpandedRow>\n        </Fragment>\n      );\n    }\n\n    return row;\n  }\n\n  renderRows = (values=[], columns, actions={}, expandable, parentKey=null) => {\n    const { view, edit: editFn, update, toggleEdit, create, toggleAdd, deleteAction, onChangeAdd, onChangeEdit } = actions;\n    const { updateLoading, updatables, insertables } = this.props;\n\n    values = values.map((item, i) => {\n      let edit = editFn;\n      let key = item.id;\n      if (parentKey) key = `${parentKey}-${key}`;\n\n      const editing = updatables && updatables[key];\n      if (typeof editFn === 'function') edit = editFn(item);\n      const adding = insertables && insertables[key];\n      const toggle = adding ? toggleAdd : toggleEdit;\n\n      if (editing || adding) {\n        if (updateLoading) return (\n          <TableRow key={i}>\n            <TableCell colSpan={columns.length+1}><Loader radius=\"24\" /></TableCell>\n          </TableRow>\n        );\n        else {\n          const data = editing ? editing.data : adding.data;\n          const onChange = adding ? onChangeAdd : onChangeEdit;\n          const actions = {\n            save: adding ? create : update,\n            cancel: toggle,\n            deleteAction\n          };\n          return this.renderRowForm(data, onChange, actions, columns, i);\n        }\n      } else return this.renderRow(item, {view, edit, deleteAction, toggle}, expandable, columns, parentKey, i);\n    });\n\n    if (create) {\n      // NOTE: if create => addButton\n      // TODO: this.props.add, then this.props.toggleAdd(id)\n      return values.concat((\n        <TableRow key={values.length+1}>\n          {columns.map(() => <TableCell />).concat([\n            <TableCell style={{textAlign: 'right'}}>\n              {/* TODO: i18n.translate(..) */}\n              <Button onClick={() => this.props.add(parentKey)} label={'add'} primary flat />\n            </TableCell>\n          ])}\n        </TableRow>\n      ));\n    } else return values;\n  }\n \n  render() {\n    const {\n      config,\n      values,\n      filters,\n      pagination,\n      withoutHeader,\n      handleChangePage,\n      handleChangeRowsPerPage\n    } = this.props;\n\n    if (filters && Utils.ds.isEmpty(Utils.ds.removeProps(filters, ['search', 'status'])) && values.length === 0) {\n      return (\n        <div className=\"top-30\">\n          {/* TODO: i18n.translate(..) */}\n          <Alert color=\"warning\">{'noNumRow'}</Alert>\n        </div>\n      );\n    }\n\n    const columns = this.props.columns.filter(item => !item.condition || item.condition(this.props));\n\n    const actions = config && this.assembleActions(config, values);\n    const expandable = config && config.expandable;\n\n    let { view, edit, deleteAction } = actions;\n    const hasAction = (view || edit || deleteAction || expandable);\n\n    return (\n      <Table style={{tableLayout: 'fixed'}}>\n        {!withoutHeader && <TableHead><TableRow>{this.renderCols(columns, actions, expandable, hasAction)}</TableRow></TableHead>}\n        <TableBody>{this.renderRows(values, columns, actions, expandable)}</TableBody>\n        {pagination &&\n          <TableFooter>\n            <TableRow>\n              <TablePagination\n                style={{paddingRight: 15}}\n                colSpan={hasAction ? columns.length+1 : columns.length}\n                {...pagination}\n                onChangePage={handleChangePage}\n                onChangeRowsPerPage={handleChangeRowsPerPage}\n                ActionsComponent={TablePaginationActions}\n              />\n            </TableRow>\n          </TableFooter>\n        }\n      </Table>\n    );\n  }\n}\n\nMuiTable.propTypes = {\n  columns: PropTypes.array.isRequired,\n  sorting: PropTypes.array.isRequired\n}\n\nexport default withDragDropContext(MuiTable);","import React, { Component, Fragment } from 'react';\nimport update from 'immutability-helper';\n\nimport Icon from '@material-ui/core/Icon';\n\nimport { Loader } from '../components';\nimport { Wrapper, Input, OptionGroup } from '../components/form';\nimport { GridWrapper, GridCell } from '../components/grid';\n\nimport Table from '../table';\n\nimport Utils from '@nexys/utils';\n\n\nclass List extends Component {\n  constructor(props) {\n    super(props);\n\n    const { columns, config } = props;\n\n    if (config.draggable) {\n      this.draggable = {\n        ...config.draggable,\n        move: this.move,\n        drop: this.drop\n      };\n    };\n\n    const searchIn = columns.filter(item => item.table && item.table.search).map(item => item.name);\n\n    let pagination = null;\n    if (config.pagination) {\n      const { rowsPerPageOptions, rowsPerPage } = config.pagination;\n      pagination = {\n        rows: [],\n        rowsPerPageOptions: rowsPerPageOptions || [10, 30, 50, 100],\n        page: 0,\n        rowsPerPage: rowsPerPage || 50,\n        total: null\n      };\n    }\n\n    let sorting = null;\n    if (config.sorting) {\n      const { order, orderBy } = config.sorting;\n      sorting = {\n        order: order || 'asc',\n        orderBy\n      };\n    }\n\n    let { values } = props;\n    values = this.prepareExpandable(values);\n\n    this.state = {\n      values,\n      addRows: [],\n      filters: {\n        status: { value: 0 },\n        search: {\n          searchIn\n        }\n      },\n      updatables: {},\n      insertables: {},\n      pagination,\n      sorting\n    };\n  }\n\n  prepareExpandable = values => {\n    const { config: { expandable } } = this.props;\n    if (expandable) {\n      const { mapping } = expandable;\n      if (mapping) {\n        return mapping(values);\n      }\n    }\n    return values;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let { values } = nextProps;\n    values = this.prepareExpandable(values);\n    this.setState({values, updateLoading: false});\n  }\n\n\n  loadingUpdate = () => this.setState({updateLoading: true});\n\n  // Utils.debounce(call, 250);\n  handleFilterChange = ({name, value}) => {\n    this.setState(prevState => ({\n      ...prevState,\n      filters: {\n        ...prevState.filters,\n        [name]: {\n          ...prevState.filters[name],\n          value\n        }\n      }\n    }))\n  };\n\n\n  /*** COLUMN FILTERS ***/\n  handleColumnFilter = (checked, {id, name}, colName) => {\n    // TODO: support greater & less than\n    // TODO: handle & activate every filter value separately\n    this.setState(prevState => ({\n      ...prevState,\n      filters: {\n        ...prevState.filters,\n        [colName]: {\n          ...prevState.filters[colName],\n          [name]: checked,\n          [id]: checked\n        }\n      }\n    }));\n  }\n\n  applyColumnFilter = colName => {\n    this.setState(prevState => ({\n      ...prevState,\n      filters: {\n        ...prevState.filters,\n        [colName]: {\n          ...prevState.filters[colName],\n          filterIsActive: true\n        }\n      }\n    }));\n  }\n\n  resetColumnFilter = colName => {\n    this.setState(prevState => ({\n      ...prevState,\n      filters: {\n        ...prevState.filters,\n        [colName]: {}\n      }\n    }));\n  }\n  /******************/\n\n\n  /*** SORTING ***/\n  handleSort = colName => {\n    const { sorting } = this.state;\n\n    let order = 'desc';\n    if (sorting && sorting.orderBy === colName) {\n      order = sorting.order === 'asc' ? 'desc' : 'asc';\n    }\n\n    this.setState(prevState => ({\n      ...prevState,\n      sorting: {\n        orderBy: colName,\n        order\n      }\n    }));\n  }\n  /******************/\n\n\n  /*** PAGINATION ***/\n  handleChangePage = (event, page) => this.setState(prevState => ({\n    ...prevState,\n    pagination: {\n      ...prevState.pagination,\n      page\n    }\n  }));\n\n  handleChangeRowsPerPage = event => this.setState(prevState => ({...prevState, pagination: {...prevState.pagination, rowsPerPage: event.target.value }}));\n  /******************/\n\n\n  /*** DRAG & DROP ***/\n  move = (dragId, hoverId) => {\n    if (dragId !== undefined && hoverId !== undefined) {\n      const { values } = this.state;\n\n      const dragItem = values.find(e => e.id === dragId);\n      const dragIdx = values.findIndex(e => e.id === dragId);\n      const hoverIdx = values.findIndex(e => e.id === hoverId);\n\n      const newValues = update(values, {\n        $splice: [[dragIdx, 1], [hoverIdx, 0, dragItem]]\n      });\n      /***\n       * {$splice: array of arrays} for each item in arrays call splice() on the target with the parameters provided by the item.\n       * Note: The items in the array are applied sequentially, so the order matters. The indices of the target may change during the operation.\n       **/\n\n      this.setState({values: newValues});\n    }\n  }\n\n  drop = async (draggedId, id) => {\n    if (this.draggable.handler) {\n      // pass async list fetcher as callback?\n      this.draggable.handler(draggedId, id);\n      /*\n        if (uriPrefix && fetchList) {\n          const uri = `${uriPrefix}/move/${draggedId}/${id}`;\n          // TODO: migrate\n          const result = await HTTPClient.get(uri);\n          if (result.status === 200) fetchList();\n        }\n      */\n    } else {\n      console.warn('No draggable move handler specified')\n    }\n  }\n  /*******************/\n\n\n  /*** STATUS WIDGET ***/\n  renderStatus = () => {\n    const { config } = this.props;\n    const { filters } = this.state;\n\n    // TODO: work with status name?\n    return (\n      <OptionGroup\n        name=\"status\"\n        options={config.status}\n        selectedValue={filters.status.value}\n        handleChange={this.handleFilterChange}\n        label={'status.select'} // TODO: translation: i18n.translate('status.select')\n        // selectedColor={adminColor}\n        compact\n        simple\n        all\n      />\n    );\n  }\n  /******************/\n\n  /*** SEARCH WIDGET ***/\n  renderSearch = () => {\n    const { filters } = this.state;\n\n    // TODO\n    // - debounce: https://toughcompetent.com/blog/es5-es6-debounce-react-events-on-inputs/\n    // - throttle: https://www.peterbe.com/plog/how-to-throttle-and-debounce-an-autocomplete-input-in-react\n    // use: https://www.npmjs.com/package/throttle-debounce\n    return (\n      <Wrapper name=\"search\" label={'filters.search'} inline>\n        <Input\n          value={filters.search.value}\n          onChange={this.handleFilterChange}\n          placeholder={'filters.search.type'} // TODO: i18n.translate(..)\n          suffix={<Icon color=\"primary\">search</Icon>}\n        />\n      </Wrapper>\n    );\n  }\n  /******************/\n\n\n  filter = () => {\n    let { values, filters } = this.state;\n\n    if (values) {\n      const { search: searchFilter, status: statusFilter } = filters;\n\n      if (statusFilter && statusFilter.value > 0) {\n        values = values.filter(item => item.status.id === statusFilter.value);\n      }\n\n      if (searchFilter && searchFilter.value) {\n        values = values.filter(item => {\n          const searchValue = searchFilter.value.toLowerCase();\n          // TODO: columns, search?\n          return searchFilter.searchIn.some(nameItem => {\n            let accessedValue = Utils.ds.get(nameItem, item);\n            accessedValue = isNaN(accessedValue) ? accessedValue.toLowerCase() : String(accessedValue);\n            if (accessedValue) return accessedValue.includes(searchValue);\n            else return false;\n          });\n        });\n      }\n\n      filters = Utils.ds.removeProps(filters, ['status', 'search']);\n      const filterCols = Object.keys(filters);\n\n      filterCols.forEach(colName => {\n        let filter = filters[colName];\n        console.log(filter, filter.active);\n        if (filter && filter.filterIsActive) {\n          filter = Utils.ds.removeProp(filter, 'filterIsActive');\n          const anySet = Object.values(filter).some(item => item);\n          if (anySet) {\n            // TODO: boolean vs domain\n            values = values.filter(item => {\n              // get column object or value from linearized key\n              let colItem = Utils.ds.get(colName, item);\n              if (colItem === null || colItem === undefined) colItem = Utils.ds.get(colName + \"Set\", item);\n              // get value from column object or keep value from linearized key\n              const value = typeof colItem === 'object' && colItem !== null ? colItem.name || colItem.id : colItem; \n              return filter[value];\n            });\n          }\n        }\n      });\n    }\n\n    return values;\n  }\n \n  toggle = (storeKey, values, prefix=null) => id => {\n    let key = id;\n    if (prefix) key = `${prefix}-${id}`;\n    if (key in this.state[storeKey]) {\n      this.setState(prevState => {\n        const store = prevState[storeKey];\n        delete store[key];\n        return {\n          ...prevState,\n          [storeKey]: store\n        };\n      });\n    } else {\n      const data = values.find(item => item.id === id);\n      this.setState(prevState => ({\n        ...prevState,\n        [storeKey]: {\n          ...prevState[storeKey],\n          [key]: {\n            data: {...data},\n            errors: {}\n          }\n        }\n      }));\n    }\n  }\n\n  toggleEdit = (values, depth=null) => id => {\n    this.toggle('updatables', values, depth)(id);\n  }\n\n  toggleAdd = (values, depth=null) => id => {\n    this.toggle('insertables', values, depth)(id);\n  }\n\n  handleChange = (store, id, prefix) => change => {\n    const key = prefix ? `${prefix}-${id}` : id;\n    const item = this.state[store][key];\n\n    const data = Utils.ds.updateObject(item.data, change);\n    this.setState(prevState => ({\n      ...prevState,\n      [store]: {\n        ...prevState[store],\n        [key]: {\n          ...item,\n          data\n        }\n      }\n    }));\n  }\n\n  // TODO: depth isn't exclusive for nested ids that are similar\n  handleEdit = (depth=null) => id => change => {\n    this.handleChange('updatables', id, depth)(change);\n  }\n\n  handleAdd = (depth=null) => id => change => {\n    this.handleChange('insertables', id, depth)(change);\n  }\n\n  /*\n    TODO:\n    handleDelete = delete => id => {\n      call delete (without fetch)\n      & remove from values\n    }\n  */\n\n  // TODO: handle nesting\n  add = (key=null) => {\n    // keyComps = key.split('_');\n    if (!key) {\n      // TODO: robust id\n      const id = Math.max(...this.state.values.map(item => item.id))+1;\n      this.setState(prevState => ({\n        ...prevState,\n        values: [\n          ...prevState.values,\n          { add: true, id }\n        ]\n      }), () => this.toggleAdd(this.state.values, key)(id));\n    } \n\n    console.log('add');\n    //else {\n      // let { config: { expandable } } = this.props;\n      // need all the ids\n    //}\n  }\n\n  remove = (key=null) => id => {\n    // if key => key.split();\n    if (!key) {\n      this.setState(prevState => ({\n        ...prevState,\n        values: prevState.values.filter(item => item.id !== id)\n      }));\n    }\n  }\n\n  render() {\n    let { config: { search, status } } = this.props;\n    const { filters, sorting, pagination, updatables, insertables, updateLoading } = this.state;\n\n    let filteredValues = this.filter();\n    \n    if (!filteredValues) return <Loader />;\n\n    if (sorting) {\n      const { order, orderBy } = sorting;\n      filteredValues = Utils.ds.sortByProp(filteredValues, orderBy, order === 'asc'); \n    }\n\n    let pageValues = null;\n    if (pagination) {\n      const { page, rowsPerPage } = pagination;\n      pageValues = filteredValues.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\n    }\n\n\n    return (\n      <Fragment>\n        {(status || search) && (\n          <GridWrapper admin>\n            <GridCell span2>{status && this.renderStatus()}</GridCell>\n            <GridCell>{search && this.renderSearch()}</GridCell>\n          </GridWrapper>\n        )}\n        <div style={{marginTop: 30}}>\n          <Table\n            {...this.props}\n            updateLoading={updateLoading}\n            loadingUpdate={this.loadingUpdate}\n            values={pageValues || filteredValues}\n            handleEdit={this.handleEdit}\n            handleAdd={this.handleAdd}\n            filters={filters}\n            applyFilter={this.applyColumnFilter}\n            resetFilter={this.resetColumnFilter}\n            onFilterChange={this.handleColumnFilter}\n            sorting={sorting}\n            onSort={this.handleSort}\n            pagination={pagination && {...pagination, count: filteredValues.length}}\n            handleChangePage={this.handleChangePage}\n            handleChangeRowsPerPage={this.handleChangeRowsPerPage}\n            draggable={this.draggable}\n            updatables={updatables}\n            insertables={insertables}\n            toggleEdit={this.toggleEdit}\n            toggleAdd={this.toggleAdd}\n            add={this.add}\n            remove={this.remove}\n          />\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default List;","import React from 'react';\nimport './App.css';\n\nimport List from './lib/list';\n\nfunction App() {\n  const data = [\n    {name: 'Germany'},\n    {name: 'Switzerland'},\n  ];\n\n  const columns = [\n    {name: 'name', render: x => x.name}\n  ];\n\n  const config = {\n    //view: r => '/test',\n    //update: (id, r) => {},\n    //delete: (id, r) => this.props.delete(r.certId, id),\n    //edit: true,\n    //search: true,\n  };\n\n  return (\n    <List\n      values={data}\n      columns={columns}\n      config={config}\n    />\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}