{"version":3,"sources":["lib/components/alert.jsx","lib/components/loader.jsx","lib/components/button.jsx","lib/components/icon-button.jsx","lib/components/tooltip.jsx","lib/components/overflow-tooltip.jsx","lib/components/draggable.jsx","lib/components/form/wrapper.jsx","lib/components/form/input.jsx","lib/components/form/select.jsx","lib/components/form/option.jsx","lib/components/form/option-group.jsx","lib/components/form/container.jsx","lib/components/grid.js","lib/components/withDragDropContext.js","lib/components/table/pagination/actions.jsx","lib/components/table/index.js","lib/table/index.js","lib/list/index.js","App.js","serviceWorker.js","index.js"],"names":["Alert","props","dismissible","myClass","color","join","trim","showIcon","state","handleDismiss","bind","this","onDismiss","noMargin","className","children","React","PropTypes","string","isRequired","element","boolean","function","Component","Loader","StyledLoader","styled","thickness","radius","defaultProps","MyButton","label","type","onClick","href","target","primary","flat","outlined","focus","form","loading","disabled","prefix","fullWidth","suffix","style","display","variant","width","btn","Button","autoFocus","StyledSpan","suffixed","prefixed","to","span","IconButton","padding","Tooltip","OverflowTooltip","show","el","hasOverflowingChildren","offsetWidth","scrollWidth","setState","placement","childWrapper","ref","id","title","rowSource","beginDrag","idx","rowTarget","hover","monitor","component","dragIndex","getItem","hoverIndex","lastId","dragId","onMove","drop","targetId","draggedId","onDrop","sourceCollect","connect","connectDragSource","dragSource","isDragging","targetCollect","connectDropTarget","dropTarget","draggable","Draggable","instance","node","findDOMNode","opacity","backgroundColor","source","DragSource","DropTarget","Wrapper","name","errors","mandatory","inline","shrink","widthAuto","labelProps","errorArr","errorMsg","map","e","control","StyledFormControl","error","required","InputLabel","htmlFor","cloneElement","FormHelperText","fontSize","InlineWrapper","FormControlWrapper","FormControl","div","MyInput","processProps","init","value","fValue","formatValue","inputStyle","height","marginTop","handleChange","event","newValue","isNumberType","Utils","number","isNumeric","parseFloat","onChange","handleBlur","onBlur","v","formatNumber","fval","undefined","textAlign","paddingRight","nextProps","placeholder","noUnderline","area","rows","rowsMax","StyledInput","disableUnderline","startAdornment","endAdornment","InputAdornment","position","multiline","Input","MySelect","values","all","multiple","adornment","options","x","i","MenuItem","key","StyledSelect","input","Select","StyledFormControlLabel","FormControlLabel","bgColor","selectedColor","css","bgHoverColor","StyledRadio","Radio","MyOption","optionStyles","selected","checkedIcon","uncheckedIcon","simple","radio","checked","icon","Icon","MyOptionGroup","renderOptions","selectedValue","option","compact","concat","StyledFormLabel","FormLabel","withForm","Form","FormContainer","handleToggle","field","isInputChecked","data","bool","handleFiles","files","newObj","ds","updateObject","handleResetChange","resetData","forEach","prop","handleSubmit","preventDefault","update","create","handleEscape","cancel","handleEscapeKey","handleSubmitKey","shiftKey","renderForm","initData","isEmpty","displayName","GridWrapper","dashboard","admin","GridCell","span2","span3","DragDropContext","HTML5Backend","PagesWrapper","TablePaginationActions","handleFirstPageButtonClick","onChangePage","handleBackButtonClick","page","handleNextButtonClick","handleLastPageButtonClick","Math","max","ceil","count","rowsPerPage","handlePageClick","numPages","pages","forcePage","pageCount","pageRangeDisplayed","marginPagesDisplayed","onPageChange","minWidth","marginLeft","justifyContent","alignItems","aria-label","StyledRow","TableRow","borderless","ExpandButton","expanded","handleClick","ExpandedRow","columns","TableCell","colSpan","length","Table","margin","TableHead","TableBody","SubMenu","Menu","withDragDropContext","createSortHandler","colName","onSort","openFilterMenu","anchorName","currentTarget","closeFilterMenu","handleFilter","item","onFilterChange","submitFilter","applyFilter","closeFilter","resetFilter","renderFilter","col","colFilters","filters","anchorEl","columnFilters","table","Array","isArray","onClose","open","Boolean","paddingLeft","Checkbox","flexDirection","renderCols","actions","expandable","hasAction","sorting","renderHead","nextSortOrder","order","alignCenter","numeric","disablePadding","sortDirection","orderBy","enterDelay","TableSortLabel","active","direction","add","renderFormElem","editable","get","render","defaultValue","defaultName","submit","loadingUpdate","renderRowForm","save","deleteAction","RowForm","onKeyUp","j","assembleActions","onChangeEdit","config","handleEdit","handleAdd","remove","view","edit","toggleEdit","toggleAdd","delete","onChangeAdd","renderRow","parentKey","toggle","toggleExpansion","union","condition","expandActions","hasParticularAction","rowContent","styles","uri","move","DraggableRow","withDraggable","row","rowStyles","renderRows","editFn","updateLoading","updatables","insertables","editing","adding","tooltips","pagination","withoutHeader","handleChangePage","handleChangeRowsPerPage","removeProps","filter","tableLayout","TableFooter","TablePagination","onChangeRowsPerPage","ActionsComponent","List","prepareExpandable","mapping","handleFilterChange","prevState","handleColumnFilter","applyColumnFilter","filterIsActive","resetColumnFilter","handleSort","hoverId","dragItem","find","dragIdx","findIndex","hoverIdx","newValues","$splice","a","async","handler","console","warn","renderStatus","status","renderSearch","search","searchFilter","statusFilter","searchValue","toLowerCase","searchIn","some","nameItem","accessedValue","isNaN","String","includes","Object","keys","log","removeProp","colItem","storeKey","store","depth","change","rowsPerPageOptions","total","addRows","filteredValues","sortByProp","pageValues","slice","App","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ab635812.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport Icon from '@material-ui/core/Icon';\n\nclass Alert extends Component {\n  constructor(props) {\n    super(props);\n\n    const dismissible = props.dismissible;\n\n    const myClass = ['alert', 'alert-' + this.props.color, (dismissible ? 'alert-dismissible' : null)].join(' ').trim();\n\n    // by default show icon\n    const showIcon = props.showIcon ? props.showIcon : false;\n\n    this.state = {\n      myClass,\n      dismissible,\n      showIcon\n    };\n\n    this.handleDismiss = this.handleDismiss.bind(this);\n  }\n\n  static propTypes() {\n    return {\n      color: React.PropTypes.string.isRequired,\n      children: React.PropTypes.element.isRequired,\n      dismissible: React.PropTypes.boolean,\n      onDismiss: React.PropTypes.function,\n      showIcon: React.PropTypes.boolean\n    };\n  }\n\n  handleDismiss() {\n    this.props.onDismiss(this.props);\n  }\n\n  render() {\n    const { noMargin } = this.props;\n    let dismissible = null;\n\n    // to check\n    /*if (this.state.dismissible) {\n      dismissible = <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={this.handleDismiss}>\n          <span aria-hidden=\"true\">&times;</span>\n        </button>;\n    }*/\n\n    let iconName;\n    //const iconName = UiUtils.colorToIcon(this.props.color);\n\n    let icon = null;\n    // to check\n    //if (iconName !== null && this.state.showIcon) icon = <Icon name={iconName} />;\n\n    // TODO: use styled component instead of app.css classes (use standard orange, green etc)\n    return (\n      <div className={`${this.state.myClass}${noMargin ? '' : ' top-20'}`}>\n        {dismissible}\n        {icon}\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default Alert;","import React, { Component } from 'react';\nimport styled from 'styled-components';\n\n// import { withTheme } from '@material-ui/core/styles';\n\n\nclass Loader extends Component {\n  render() {\n    return (\n      <div className={'loader ' + this.props.className}>\n        <div className=\"ball-scale-ripple loader-inner\">\n          <div />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst StyledLoader = styled(Loader)`\n  margin: 0 auto;\n\n  .ball-scale-ripple > div {\n    border: ${props => props.thickness}px solid ${props => props.color || '#0000ff'};\n    width: ${props => props.radius}px;\n    height: ${props => props.radius}px;\n  }\n`;\n\n\nStyledLoader.defaultProps = {\n  thickness: 2,\n  radius: 50,\n}\n\n// export default withTheme()(StyledLoader);\nexport default StyledLoader;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport Button from '@material-ui/core/Button';\n\nimport Loader from './loader.jsx';\n\n\nclass MyButton extends Component {\n  render() {\n    const { label, type, onClick, href, target, primary, flat, outlined, form, focus, loading, disabled, prefix, fullWidth } = this.props;\n    let { suffix, style } = this.props;\n\n    let additionalProps = {};\n    if (form) additionalProps.form = form;\n\n    if (loading) \n      suffix = (\n        <span style={{display: 'inline-block'}}>\n          <Loader thickness={1} radius={18} />\n        </span>\n      );\n\n    let color = \"default\";\n    if (primary) color = \"primary\";\n\n    let variant = null;\n    if (flat) {\n      variant = 'text';\n    } else if (outlined) {\n      variant = 'outlined'\n    } else {\n      variant = 'contained'\n    }\n\n    if (!style) style = {};\n    if (fullWidth) style.width = '100%';\n\n    // NOTE: icon is either passed as prefix or suffix\n    const btn = (\n      <Button\n        type={type ? type : 'button'}\n        autoFocus={focus ? true : false}\n        onClick={onClick}\n        disabled={loading || disabled}\n        color={color}\n        href={href}\n        variant={variant}\n        style={style}>\n        {prefix}\n        <StyledSpan suffixed={!!suffix} prefixed={!!prefix}>{label}</StyledSpan>\n        {suffix}\n      </Button>\n    );\n\n    if (target) {\n      return (\n        <Link to={target}>{btn}</Link>\n      );\n    } else {\n      return btn;\n    }\n  }\n}\n\nconst StyledSpan = styled.span`\n  ${props => props.prefixed && `\n    margin-left: 5px;\n  `}\n\n  ${props => props.suffixed && `\n    margin-right: 5px;\n  `}\n`\n\n// NOTE: accessing MUI themes from component (https://stackoverflow.com/questions/43281020/reference-to-themes-primary-color-instead-of-a-specific-color-in-material-ui)\nexport default MyButton;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\n\n\nexport default props => <IconButton className=\"icon-button\" style={{padding: 3}} {...props} />;","import Tooltip from '@material-ui/core/Tooltip';\n\nexport default Tooltip;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Tooltip from '@material-ui/core/Tooltip';\n\n\nclass OverflowTooltip extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { show: false };\n  }\n\n  componentDidMount() {\n    const el = this.element;\n    const hasOverflowingChildren = el.offsetWidth < el.scrollWidth;\n    this.setState({ show: hasOverflowingChildren });\n  }\n\n  render() {\n    const { placement, style, children } = this.props;\n    const { show } = this.state;\n\n    const childWrapper = (\n      <div style={style || {}} ref={el => this.element = el}>\n        {children}\n      </div>\n    );\n\n    return show ? (\n      <Tooltip\n        id=\"tooltip\"\n        placement={placement || \"top\"}\n        title={children}>\n        {childWrapper}\n      </Tooltip>\n    ) : childWrapper;\n  }\n}\n\nOverflowTooltip.propTypes = {\n  placement: PropTypes.string,\n  style: PropTypes.object\n}\n\nexport default OverflowTooltip;","import React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { DragSource, DropTarget } from 'react-dnd';\n\n\n// taken from ES6 code: https://react-dnd.github.io/react-dnd/docs-drag-source.html\nconst rowSource = {\n// Return the data describing the dragged item\n  beginDrag: (props) => {\n    return { id: props.id, idx: props.idx };\n  }\n};\n\nconst rowTarget = {\n  // taken from: https://react-dnd.github.io/react-dnd/examples-sortable-simple.html\n  hover: (props, monitor, component) => {\n    const dragIndex = monitor.getItem().idx\n    const hoverIndex = props.idx\n\n    // Don't replace items with themselves\n    if (dragIndex !== hoverIndex) {\n      monitor.getItem().idx = hoverIndex;\n      monitor.getItem().lastId = props.id;\n      const dragId = monitor.getItem().id;\n      props.onMove(dragId, props.id, props);\n      //props.onMove(dragIndex, hoverIndex)\n      // NOTE: we're mutating the monitor item here!\n      // Generally it's better to avoid mutations,\n      // but it's good here for the sake of performance\n      // to avoid expensive index searches.\n    }\n  },\n  drop: (props, monitor) => {\n    const targetId = monitor.getItem().lastId;\n    const draggedId = monitor.getItem().id;\n    if (draggedId !== targetId) {\n      props.onDrop(draggedId, targetId, props);\n    }\n  }\n};\n\nconst sourceCollect = (connect, monitor) => {\n  return {\n    // Call this function inside render()\n    // to let React DnD handle the drag events:\n    connectDragSource: connect.dragSource(),\n    // You can ask the monitor about the current drag state:\n    isDragging: monitor.isDragging()\n  };\n}\n\nconst targetCollect = (connect) => {\n  return {\n    connectDropTarget: connect.dropTarget()\n  };\n}\n\n\n// NOTE: this is a thunk with arrow functions: https://daveceddia.com/what-is-a-thunk/\nconst draggable = Component => children => {\n  class Draggable extends React.Component {\n    connect = instance => {\n      const { connectDragSource, connectDropTarget } = this.props;\n      const node = findDOMNode(instance);\n      connectDragSource(node);\n      connectDropTarget(node);\n    }\n\n    render() {\n      const { isDragging } = this.props;\n      const opacity = isDragging ? 0 : 1;\n      const style = {opacity, backgroundColor: 'rgba(255, 255, 255, .8)'};\n      // for native components (<div> etc.): connectDragSource(connectDropTarget(component)); \n      // ref is fix for non-native elements taken from https://github.com/react-dnd/react-dnd/issues/347\n      return <Component ref={this.connect} style={style}>{children}</Component>;\n    }\n  }\n  const source = DragSource('item', rowSource, sourceCollect)(Draggable);\n  return DropTarget('item', rowTarget, targetCollect)(source);\n}\n\nexport default draggable;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\n\n\nclass Wrapper extends Component {\n  render() {\n    const { label, name, errors, mandatory, inline, style, shrink, widthAuto, className } = this.props;\n\n    // TODO: manage focus by passing onFocus / onBlur to FormLabel\n    const labelProps = {}\n    if (shrink) labelProps.shrink = true;\n\n    let errorArr, errorMsg = null;\n    if (errors && name in errors) errorArr = errors[name];\n    if (errorArr) errorMsg = errorArr.map(e => e).join(\", \"); // i18n.translate(e)\n\n    const control = (\n      <StyledFormControl error={!!errorMsg} required={mandatory} fullWidth={!widthAuto} label={!!label}>\n        {label ? <InputLabel htmlFor={name} {...labelProps} className={className}>{label}</InputLabel> : '' }\n        {React.cloneElement(this.props.children, { required: mandatory, name })}\n        {errorMsg ? <FormHelperText style={{fontSize: 14}}>{errorMsg}</FormHelperText> : ''}\n      </StyledFormControl>\n    );\n\n    if (inline) {\n      return style ? <InlineWrapper style={style}>{control}</InlineWrapper> : control;\n    } else {\n      return (\n        <FormControlWrapper style={style}>{control}</FormControlWrapper>\n      );\n    }\n  }\n}\n\nconst StyledFormControl = styled(FormControl)`\n  z-index: initial !important;\n  ${props => props.label && `\n    label {\n      padding-left: 10px;\n    }\n  `}\n`\n\nconst FormControlWrapper = styled.div`\n  margin-bottom: 15px;\n`\n\nconst InlineWrapper = styled.div`\n  display: inline-block;\n  margin-right: 10px;\n\n  &:last-child {\n    margin-right: 0px;\n  }\n`\n\nWrapper.propTypes = {\n  children: PropTypes.element.isRequired,\n  errors: PropTypes.object,\n  label: PropTypes.string,\n  name: PropTypes.string,\n  mandatory: PropTypes.bool,\n  inline: PropTypes.bool\n}\n\nexport default Wrapper;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\n\nimport Utils from '@nexys/utils';\n\n\nclass MyInput extends Component {\n  constructor(props) {\n    super(props);\n    this.processProps(props, true);\n  }\n\n  // TODO: number vs text\n  processProps = (props, init) => {\n    // get type\n    let type = '';\n    switch (props.type) {\n      case 'email':\n        type = 'email';\n        break;\n      case 'password':\n        type = 'password';\n        break;\n      case 'tel':\n        type = 'tel';\n        break;\n      default: // set text as default\n        type = 'text';\n        break;\n    }\n\n    const name = props.name;\n    const value = props.value;\n\n    let disabled = false;\n    if (props.disabled) disabled = true;\n\n    // formatted value - value that will be displayed\n    const fValue = this.formatValue(props.value);\n\n    let style = this.inputStyle();\n    style.height = '56px';\n    style.marginTop = '5px';\n    if (props.style) style = { ...style, ...props.style };\n\n    // value is raw input, fValue is formatted input\n    const state = {\n      type,\n      name,\n      value,\n      fValue,\n      style,\n      disabled\n    };\n\n    /* eslint-disable react/no-direct-mutation-state */\n    if (init) this.state = state;\n    else this.setState({...state});\n    //this.setState({...state});\n  }\n\n  // depending on the 'type' format the value\n  formatValue(v) {\n    switch (this.props.type) {\n      case 'number':\n        return Utils.number.formatNumber(v);\n      default: {\n        let fval = v;\n        if (fval === undefined) fval = '';\n        return fval;\n      }\n    }\n  }\n\n  isNumberType() {\n    switch (this.props.type) {\n      case 'number':\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  // depending on the 'type' assign style\n  inputStyle() {\n    switch (this.props.type) {\n      case 'number':\n        return {textAlign: 'right', paddingRight: '5px'};\n      default:\n        return {};\n    }\n  }\n\n  handleChange = event => {\n    // get new value\n    let newValue = event.target.value;\n    if (!this.isNumberType() || (this.isNumberType() && (Utils.number.isNumeric(newValue) || newValue === ''))) {\n      if (this.isNumberType()) {\n        if (newValue === '') {\n          newValue = 0;\n        } else {\n          newValue = parseFloat(newValue);\n        }\n      }\n      // update state\n      this.setState({fValue: newValue});\n\n      // calls parent function\n      this.props.onChange({name: this.state.name, value: newValue});\n    }\n  }\n\n  handleBlur = event => {\n    const { onBlur } = this.props;\n    if (onBlur) onBlur(event);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.processProps(nextProps, false);\n  }\n\n  render() {\n    let { placeholder, noUnderline, focus, prefix, suffix, area, rows, rowsMax } = this.props;\n    const { type } = this.state;\n    return (\n      <StyledInput\n        type={type ? type : 'text'}\n        value={this.state.fValue ? this.state.fValue : ''}\n        onChange={this.handleChange}\n        onBlur={this.handleBlur}\n        placeholder={placeholder}\n        autoFocus={focus ? true : false}\n        disabled={this.state.disabled ? true : undefined}\n        disableUnderline={noUnderline}\n        startAdornment={prefix && prefix}\n        endAdornment={suffix && <InputAdornment position=\"end\">{suffix}</InputAdornment>}\n        multiline={area && true}\n        rows={rows}\n        rowsMax={rowsMax}\n        fullWidth\n      />\n    );\n  }\n}\n\nconst StyledInput = styled(Input)`\n  input, textarea {\n    padding-left: 10px;\n  }\n`\n\nMyInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  type: PropTypes.string,\n  errors: PropTypes.object,\n  label: PropTypes.string,\n  value: PropTypes.string,\n  placeholder: PropTypes.string,\n  mandatory: PropTypes.bool,\n  disabled: PropTypes.bool\n};\n\nexport default MyInput;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\n\n\nclass MySelect extends Component {\n  handleChange = event => {\n    const { onChange, name } = this.props;\n    const value = event.target.value;\n    this.setState({value});\n    onChange({name, value});\n  }\n\n  render() {\n    const { name, value, values=[], disabled, all, placeholder, multiple, adornment } = this.props;\n\n    const options = values.map((x, i) => <MenuItem key={i+1} value={x.id}>{x.name}</MenuItem>)\n\n    return (\n      <StyledSelect\n        value={value}\n        onChange={this.handleChange}\n        input={<Input name={name} endAdornment={<InputAdornment>{adornment}</InputAdornment>} />}\n        placeholder={placeholder}\n        disabled={disabled}\n        multiple={multiple}>\n        {all ? <MenuItem key={0} value={0}>{'select.all'}</MenuItem> : ''}\n        {/* {i18n.translate('select.all', null, false) */ }\n        {options}\n      </StyledSelect>\n    );\n  }\n}\n\nconst StyledSelect = styled(Select)`\n  text-align: left;\n\n  > div {\n    &:first-child {\n      padding-left: 10px;\n    }\n  }\n`\n\nMySelect.propTypes = {\n  name: PropTypes.string.isRequired,\n  values: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  errors: PropTypes.object,\n  label: PropTypes.string,\n  value: PropTypes.number,\n  disabled: PropTypes.bool,\n  mandatory: PropTypes.bool\n};\n\nexport default MySelect;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled, { css } from 'styled-components';\n\nimport Icon from '@material-ui/core/Icon';\n\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\n\nconst StyledFormControlLabel = styled(FormControlLabel)`\n  padding: 7px 3px;\n  padding-right: 13px;\n  background-color: ${props => props.style.bgColor};\n  border-radius: 5px;\n  border: 1px solid #eaeaea;\n  margin: 2px;\n  ${props => props.style.selectedColor !== 'black' && css`\n    border: 2px solid ${props.style.selectedColor};\n  `}\n\n  &:hover {\n    background-color: ${props => props.style.bgHoverColor};\n  }\n\n  span:first-child {\n    height: auto !important;\n    width: 36px !important;\n  }\n`;\n\nconst StyledRadio = styled(Radio)`\n  padding: 0 !important;\n`\n\nclass MyOption extends Component {\n  constructor(props) {\n    super(props);\n    this.optionStyles = {\n      bgColor: '#f8f8f8',\n      bgHoverColor: '#efefef'\n    };\n  }\n\n  handleChange = e => {\n    const { name, value } = this.props;\n    this.props.handleChange({name, value});\n  }\n\n  render() {\n    const { value, name, label, selected, checkedIcon, uncheckedIcon, selectedColor, simple } = this.props;\n\n    let radio = (\n      <StyledRadio\n        name={name}\n        checked={selected}\n        icon={<Icon color=\"primary\">{uncheckedIcon}</Icon>}\n        checkedIcon={<Icon color=\"primary\">{checkedIcon}</Icon>}\n        onChange={this.handleChange}\n      />\n    );\n\n    if (simple) {\n      radio = (\n        <StyledRadio\n          name={name}\n          checked={selected}\n          onChange={this.handleChange}\n          color=\"primary\"\n        />\n      );\n    }\n\n    const optionStyles = {\n      ...this.optionStyles,\n      selectedColor\n    };\n\n    return <StyledFormControlLabel value={value} control={radio} label={label} style={optionStyles} />;\n    // label={i18n.translate(label)}\n  }\n}\n\nMyOption.propTypes = {\n  label: PropTypes.string.isRequired\n};\n\nexport default MyOption;","import React, { Component } from 'react';\nimport styled from 'styled-components';\n\nimport MyOption from './option.jsx';\nimport { FormControl, FormLabel } from '@material-ui/core';\n\n\nclass MyOptionGroup extends Component {\n  renderOptions = options => {\n    const { name, selectedValue, handleChange, selectedColor, simple } = this.props;\n\n    // TODO: support multiselect\n    return options.map((option, idx) => {\n      // NOTE: handle boolean values (otherwise id is used to fallback on falsE value)\n      const value = typeof option.value === 'boolean' ? option.value : (option.value || option.id);\n      const checked = selectedValue === value;\n\n      return (\n        <MyOption \n          key={`${name}-option-${idx}`}\n          selected={checked}\n          handleChange={handleChange}\n          selectedColor={selectedColor && checked ? selectedColor : 'black'}\n          {...option}\n          name={name}\n          value={value}\n          label={option.label || option.name}\n          simple={simple || false}\n        />\n      );\n    });\n  }\n\n  render() {\n    let { all, label, style, options, compact } = this.props;\n\n    options = all ? [{ id: 0, name: 'All' }].concat(options) : options;\n\n    return (\n      <StyledFormControl component=\"div\" compact={!!compact} style={style}>\n        {label && <StyledFormLabel component=\"span\" className=\"label\">{label}</StyledFormLabel>}\n        <div className=\"options\">{this.renderOptions(options)}</div>\n      </StyledFormControl>\n    );\n  }\n}\n\nconst StyledFormControl = styled(FormControl)`\n  display: flex !important;\n  flex-direction: row !important;\n  justify-content: ${props => (props.compact ? 'flex-start' : 'space-between')} !important;\n\n  .label {\n    margin-right: 15px;\n  }\n\n  .options {\n    display: flex;\n    flex-wrap: wrap;\n    margin-left: 20px;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column !important;\n\n    .label {\n      display: none;\n    }\n\n    .options {\n      margin: 0;\n    }\n  }\n`;\n\nconst StyledFormLabel = styled(FormLabel)`\n  line-height: 47px !important;\n  width: auto;\n  float: left;\n`;\n\nexport default MyOptionGroup;","import React, { Component } from 'react';\n\nimport Utils from '@nexys/utils';\n\n\nconst withForm = Form => {\n  class FormContainer extends Component {\n    constructor(props) {\n      super(props);\n\n      const { initData, data } = props;\n      this.state = { data: {...initData, ...data} };\n    }\n\n    componentWillReceiveProps(nextProps) {\n      const { initData, data } = nextProps;\n      if (Utils.ds.isEmpty(nextProps.errors)) this.setState({data: {...initData, ...data}});\n    }\n\n    // TODO: immutable updates https://redux.js.org/recipes/structuring-reducers/immutable-update-patterns\n    // TODO: refactor to handleBoolean\n    handleToggle = (field, isInputChecked) => {\n      if (isInputChecked !== undefined) {\n        // handle checkbox toggle\n        const { data } = this.state;\n        data[field.target.name] = isInputChecked;\n        this.setState({data});\n      } else {\n        // handle toggle\n        return () => {\n          const { data } = this.state;\n          const bool = data[field];\n          data[field] = !bool;\n          this.setState({data});\n        }\n      }\n    }\n\n    handleFiles = (files) => {\n      const { data } = this.state;\n      data.files = files;\n      this.setState({data});\n    }\n\n    handleChange = newObj => {\n      const { handleChange } = this.props;\n      if (handleChange) handleChange(newObj);\n      const data = Utils.ds.updateObject(this.state.data, newObj);\n      this.setState({data});\n    }\n\n    handleResetChange = props => newObj => {\n      const data = Utils.ds.updateObject(this.state.data, newObj);\n      let resetData = {};\n      resetData[newObj.name] = data[newObj.name];\n      props.forEach(prop => { resetData[prop] = data[prop]; });\n      this.setState({data: resetData});\n    }\n\n    handleSubmit = e => {\n      // TODO: Object.entries() if typeof value == string => newObj.value.trim()\n      if (e) e.preventDefault();\n      const { data } = this.state;\n      const { update, create } = this.props;\n\n      /*\n        if (withFiles) {\n          if (data.files && data.files.length > 0) {\n            data.files.forEach(file => {\n              const formData = MyUtils.configureFormData(file);\n              create(formData, data, this.props);\n            });\n          }\n        } else {\n      */\n\n      if (data.id) update(data.id, data, this.props);\n      else create(data, this.props);\n    }\n\n    handleEscape = () => {\n      const { data, cancel } = this.props;\n      if (data) cancel(data.id, this.props);\n    }\n\n    handleEscapeKey = e => {\n      if (e.key === 'Escape') {\n        e.preventDefault();\n        this.handleEscape();\n      }\n    }\n\n    handleSubmitKey = e => {\n      if (e.key === 'Escape') {\n        e.preventDefault();\n        const { data, cancel } = this.props;\n        cancel(data.id, this.props);\n      } else if (e.key === 'Enter' && !e.shiftKey) {\n        // TODO: https://stackoverflow.com/questions/2364141/enter-key-wont-submit-form-in-firefox-but-will-in-chrome-why\n        this.handleSubmit(e);\n      }\n    }\n\n    renderForm = () => {\n      return (\n        <Form\n          {...this.props}\n          data={this.state.data}\n          handleToggle={this.handleToggle}\n          handleChange={this.handleChange}\n          handleResetChange={this.handleResetChange}\n          handleFiles={this.handleFiles}\n          handleSubmit={this.handleSubmit}\n          handleEscape={this.handleEscape}\n          handleEscapeKey={this.handleEscapeKey}\n          handleSubmitKey={this.handleSubmitKey}\n        />\n      );\n    }\n\n    // NOTE: if you have a form with more than one input field, always include a submit button. \n    // Otherwise implicit submission will not work: https://www.tjvantoll.com/2013/01/01/enter-should-submit-forms-stop-messing-with-that/\n    render() {\n      return this.renderForm();\n    }\n  }\n\n  FormContainer.displayName = 'FormContainer';\n  return FormContainer;\n}\n\nexport default withForm;","import styled from 'styled-components';\n\nexport const GridWrapper = styled.div`\n  display: grid;\n  width: 100%;\n  grid-template-columns: repeat(${props => props.dashboard ? 4 : (props.admin ? 3 : 2)}, 1fr);\n  grid-row-gap: 20px;\n  grid-column-gap: 20px;\n  grid-auto-flow: dense;\n\n  ${props => props.dashboard && `\n    @media (max-width: 1400px) {\n      grid-template-columns: repeat(3, 1fr);\n    }\n\n    @media (max-width: 1100px) {\n      grid-template-columns: repeat(2, 1fr);\n    }\n  `}\n\n  @media (max-width: 700px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n    & > div {\n      margin-bottom: 20px;\n    }\n  }\n`;\n\nexport const GridCell = styled.div`\n  ${props => props.fullWidth && `\n    grid-column: 1 / span 2;\n  `}\n\n  ${props => props.span2 && `\n    grid-column: 1 / span 2;\n  `}\n\n  ${props => props.span3 && `\n    grid-column: 1 / span 3;\n  `}\n`;","import {DragDropContext} from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\n\nexport default DragDropContext(HTML5Backend);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport ReactPaginate from 'react-paginate';\n\nimport IconButton from '../../icon-button.jsx';\n\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\n\n/*\n  const StyledButton = styled(Button)`\n    padding: 3px !important;\n    min-width: 5px !important;\n    min-height: 12px !important;\n*/\n\nconst PagesWrapper = styled.div`\n  ul {\n    display: flex;\n    list-style-type: none;\n    padding-left: 0;\n    margin: 0;\n\n    li {\n      a {\n        padding: 3px !important;\n        min-width: 5px !important;\n        min-height: 12px !important;\n        font-size: 12px;\n        color: #777;\n      }\n\n      &.selected {\n        margin-top: -1px;\n        a {\n          text-decoration: underline;\n          color: #333;\n          font-weight: bold;\n        }\n      }\n\n      &.previous, &.next {\n        display: none;\n      }\n\n      &.break {\n        font-size: 12px;\n      }\n    }\n  }\n`;\n\nclass TablePaginationActions extends Component {\n  handleFirstPageButtonClick = event => this.props.onChangePage(event, 0);\n\n  handleBackButtonClick = event => this.props.onChangePage(event, this.props.page - 1);\n\n  handleNextButtonClick = event => this.props.onChangePage(event, this.props.page + 1);\n\n  handleLastPageButtonClick = event => this.props.onChangePage(event, Math.max(0, Math.ceil(this.props.count / this.props.rowsPerPage) - 1));\n\n  handlePageClick = (event, page) => {\n    const { onChangePage } = this.props;\n    if (event.selected || event.selected === 0) {\n      onChangePage(null, event.selected);\n    } else onChangePage(event, page);\n  }\n\n  render() {\n    const { count, page, rowsPerPage } = this.props;\n\n    const numPages = Math.ceil(count / rowsPerPage); \n\n    /*\n      DEPRECATED pages code\n      pages = [...Array(Math.ceil(count / rowsPerPage)).keys()];\n      {pages.map(currPage => <StyledButton key={currPage} size=\"small\" onClick={e => this.handlePageClick(e, currPage)} disabled={page === currPage}>{currPage+1}</StyledButton>)}\n    */\n\n    const pages = (\n      <ReactPaginate\n        forcePage={page}\n        pageCount={numPages}\n        pageRangeDisplayed={10}\n        marginPagesDisplayed={3}\n        onPageChange={this.handlePageClick}\n      />\n    );\n\n    return (\n      <div style={{minWidth: 'max-content', marginLeft: '20px', display: 'flex', justifyContent: 'space-evenly', alignItems: 'center'}}>\n        <IconButton\n          onClick={this.handleFirstPageButtonClick}\n          disabled={page === 0}\n          aria-label=\"First Page\">\n          <FirstPageIcon />\n        </IconButton>\n        <IconButton\n          onClick={this.handleBackButtonClick}\n          disabled={page === 0}\n          aria-label=\"Previous Page\">\n          <KeyboardArrowLeft />\n        </IconButton>\n        <PagesWrapper>{pages}</PagesWrapper>\n        <IconButton\n          onClick={this.handleNextButtonClick}\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n          aria-label=\"Next Page\">\n          <KeyboardArrowRight />\n        </IconButton>\n        <IconButton\n          onClick={this.handleLastPageButtonClick}\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n          aria-label=\"Last Page\">\n          <LastPageIcon />\n        </IconButton>\n      </div>\n    );\n  }\n}\n  \nTablePaginationActions.propTypes = {\n  count: PropTypes.number.isRequired,\n  onChangePage: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  rowsPerPage: PropTypes.number.isRequired\n};\n\nexport default TablePaginationActions;","import React from 'react';\nimport styled from 'styled-components';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport TablePagination from '@material-ui/core/TablePagination';\n\nimport TablePaginationActions from './pagination/actions.jsx';\n\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\n\nimport IconButton from '../icon-button.jsx';\n\n\nconst StyledRow = styled(TableRow)`\n  ${props => props.borderless && `\n    td {\n      border-bottom: none !important;\n    }\n  `}\n\n  height: 32px !important;\n  &:first-child {\n    td {\n      border-top: none !important;\n    }\n  }\n\n  &:last-child {\n    td {\n      border-bottom: none !important;\n    }\n  }\n\n  td, th {\n    padding: 0 10px 0 5px !important;\n    font-size: 14px !important;\n    border-bottom: 2px solid #f3f3f3;\n\n    > div {\n      // max-width: 300px;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n\n  div[role=\"button\"] {\n    font-size: 12px !important;\n  }\n\n  button {\n    &.icon-button {\n      padding: 3px;\n      height: auto;\n      margin-left: 3px;\n    }\n  }\n`;\n\nconst ExpandButton = ({expanded, handleClick}) => (\n  <IconButton onClick={handleClick}> \n    {expanded ? <ExpandLess /> : <ExpandMore />}\n  </IconButton>\n);\n\nconst ExpandedRow = ({columns, children}) => (\n  <StyledRow borderless>\n    <TableCell colSpan={columns.length}>\n      <Table style={{margin: '10px 0 5px 15px'}}>\n        <TableHead>\n          {columns}\n        </TableHead>\n        <TableBody>{children}</TableBody>\n      </Table>\n    </TableCell>\n  </StyledRow>\n);\n\nexport {\n  Table,\n  TableHead,\n  TableBody,\n  StyledRow as TableRow,\n  ExpandedRow,\n  TableCell,\n  ExpandButton,\n  TableFooter,\n  TableSortLabel,\n  TablePagination,\n  TablePaginationActions\n};","import React, { Component, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport { Alert, Tooltip, OverflowTooltip, IconButton, Loader, withDraggable, Button } from '../components';\nimport { Wrapper, Select, Input, withForm } from '../components/form';\nimport withDragDropContext from '../components/withDragDropContext.js';\n\nimport {\n  Table, \n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  ExpandedRow,\n  ExpandButton,\n  TableFooter,\n  TableSortLabel,\n  TablePagination,\n  TablePaginationActions\n} from '../components/table';\n\nimport Icon from '@material-ui/core/Icon';\n\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\n\n\nimport Utils from '@nexys/utils';\n\n\nconst SubMenu = styled(Menu)`\n  ul {\n    padding: 0 !important;\n\n    li {\n      height: 18px;\n      padding: 12px;\n    }\n  }\n`;\n\n\nclass MuiTable extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      tooltips: {}\n    };\n  }\n\n  createSortHandler = colName => e => this.props.onSort(colName);\n\n  openFilterMenu = anchorName => event => this.setState({[anchorName]: event.currentTarget});\n  closeFilterMenu = anchorName => e => this.setState({[anchorName]: null});\n\n  handleFilter = (e, checked, item, colName) => this.props.onFilterChange(checked, item, colName);\n\n  submitFilter = colName => {\n    const { applyFilter } = this.props;\n    const closeFilter = this.closeFilterMenu(colName);\n    closeFilter();\n    applyFilter(colName);\n  }\n\n  resetFilter = colName => {\n    const { resetFilter } = this.props;\n    const closeFilter = this.closeFilterMenu(colName);\n    closeFilter();\n    resetFilter(colName);\n  }\n\n  renderFilter = col => {\n    const { filters } = this.props;\n    const colFilters = filters[col.name];\n\n    const anchorName = col.name;\n    const anchorEl = this.state[anchorName];\n\n    // TODO: refactor filters\n    let columnFilters = col.table && col.table.filters;\n    if (!Array.isArray(columnFilters)) columnFilters = this.props[columnFilters];\n\n    return (\n      <SubMenu\n        id=\"filter-menu\"\n        anchorEl={anchorEl}\n        onClose={this.closeFilterMenu(anchorName)}\n        open={Boolean(anchorEl)}>\n        {columnFilters.map(item => (\n          <MenuItem onClick={() => {}} style={{paddingLeft: 15}}>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  name={item.name}\n                  color=\"primary\"\n                  checked={colFilters && colFilters[item.value || item.name]}\n                  onChange={(e, checked) => this.handleFilter(e, checked, item, col.name)}\n                />\n              }\n              label={item.label || item.name}\n            />\n          </MenuItem>\n        ))}\n        <div style={{display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}>\n          {/* TODO: i18n.translate */}\n          <Button onClick={() => this.submitFilter(col.name)} label={'submit'} primary flat />\n          <Button onClick={() => this.resetFilter(col.name)} label={'reset'} primary flat />\n        </div>\n      </SubMenu>\n    );\n  }\n\n  // TODO: hiddenColumns\n  renderCols = (columns, actions={}, expandable, hasAction) => {\n    hasAction = hasAction || expandable;\n\n    let { create } = actions;\n    let { sorting } = this.props;\n\n    columns = columns.map((col, id) => {\n      const value = col.renderHead ? col.renderHead(col) : col.label; // i18n.translate(col.label) \n      const nextSortOrder = (sorting && sorting.order === 'asc' ? 'desc' : 'asc') || 'desc';\n\n      // NOTE: column filter\n      let columnFilters = col.table && col.table.filters;\n      if (!Array.isArray(columnFilters)) columnFilters = this.props[columnFilters];\n\n      return (\n        <TableCell\n          key={`table-column-${id}`} \n          className={col.alignCenter && \"text-center\"}\n          numeric={col.numeric || false}\n          padding={col.disablePadding ? 'none' : 'default'}\n          sortDirection={sorting && sorting.orderBy === col.name ? sorting.order : false}>\n          {col.table && col.table.sorting ? \n            <Tooltip\n              id={`${col.name}-sort-tooltip`}\n              title={`Sort ${nextSortOrder}`}\n              placement={col.numeric ? 'bottom-end' : 'bottom-start'}\n              enterDelay={300}>\n              <TableSortLabel\n                active={sorting && sorting.orderBy === col.name}\n                direction={(sorting && sorting.order) || 'desc'}\n                onClick={this.createSortHandler(col.name)}>\n                {value}\n              </TableSortLabel>\n            </Tooltip> : value\n          }\n          {columnFilters && (\n            <Fragment>\n              <Tooltip\n                id={`${col.name}-filter-tooltip`}\n                title={'filter.info'} // TODO: i18n.translate(..)\n                placement=\"top\"\n                enterDelay={300}>\n                <IconButton\n                  style={{fontSize: 16}}\n                  onClick={this.openFilterMenu(col.name)}>\n                  <Icon style={{fontSize: 16}}>filter_list</Icon>\n                </IconButton>\n              </Tooltip>\n              {this.renderFilter(col)}\n            </Fragment>\n          )}\n        </TableCell>\n      );\n    });\n\n    if (hasAction) {\n      let col = <TableCell style={{width: 200}} />;\n      if (create) {\n        col = (\n          <TableCell style={{width: 200, textAlign: 'right'}}>\n            <IconButton onClick={e => this.props.add()}>\n              <Icon color=\"primary\">add_box</Icon>\n            </IconButton> \n          </TableCell>\n        );\n      }\n      columns = columns.concat([col]);\n    }\n    \n    return columns;\n  }\n  \n  renderFormElem = (editable, col, item, handleChange) => {\n    const { errors } = this.props;\n\n    const name = (editable && editable.name) || col.name;\n    const value = Utils.ds.get(name, item);\n\n    if (editable.render) {\n      return editable.render(name, value, item, this.props);\n    }\n\n    const defaultValue = Utils.ds.get(editable.defaultName || name, item);\n    switch (editable.type) {\n      case 'select': {\n        return (\n          <Wrapper name={name} errors={errors} inline>\n            <Select\n              value={value || defaultValue}\n              values={this.props[editable.values]}\n              onChange={handleChange}\n            />\n          </Wrapper>\n        )\n      }\n      default:\n        return (\n          <Wrapper name={name} errors={errors} inline>\n            <Input\n              type=\"text\"\n              value={value}\n              onChange={handleChange}\n              focus\n            />\n          </Wrapper> \n        );\n    }\n  }\n\n  // TODO: if errors keep toggled\n  submit = (e, handleSubmit, handleEscape) => {\n    if (e.key) {\n      if (e.key === 'Enter' && !e.shiftKey) {\n        this.props.loadingUpdate();\n        handleEscape();\n      }\n      handleSubmit(e);\n    } else {\n      this.props.loadingUpdate();\n      handleEscape();\n      handleSubmit(e);\n    }\n  }\n\n  renderRowForm = (data, onChange, {save, cancel, deleteAction}, columns, i) => {\n    // TODO: show loader inside row while update takes place\n    const RowForm = withForm(({data, handleChange, handleSubmit, handleSubmitKey, handleEscape}) => (\n      <TableRow key={i} onKeyUp={e => this.submit(e, handleSubmitKey, handleEscape)}>\n        {columns.map((col, j) => (\n          <TableCell\n            padding={j===0 ? \"none\" : 'default'}\n            numeric={col.numeric || false}\n            className={col.alignCenter && \"text-center\"}>\n            {col.editable ? (\n              this.renderFormElem(col.editable, col, data, handleChange)\n            ) : (\n              <OverflowTooltip>{col.render(data, col, this.props)}</OverflowTooltip>\n            )}\n          </TableCell>\n        ))} \n        <TableCell style={{width: 200, textAlign: 'right'}}>\n          {/* TODO: i18n.translate(..) */}\n          <Tooltip id=\"edit.save\" enterDelay={500} title={'save'} placement=\"top\">\n            <IconButton onClick={e => this.submit(e, handleSubmit, handleEscape)}>\n              <Icon color=\"primary\">save</Icon>\n            </IconButton>\n          </Tooltip>\n          {data.add ? (\n            <Tooltip id=\"delete\" enterDelay={500} title={'delete'} placement=\"top\">\n              {/* TODO: i18n.translate(..) */}\n              <IconButton onClick={() => {\n                handleEscape();\n                deleteAction(data.id);\n              }}>\n                <Icon>delete</Icon>\n              </IconButton>\n            </Tooltip>\n          ) : (\n            <Tooltip id=\"edit.cancel\" enterDelay={500} title={'cancel'} placement=\"top\">\n              {/* TODO: i18n.translate(..) */}\n              <IconButton onClick={handleEscape}>\n                <Icon>cancel</Icon>\n              </IconButton>\n            </Tooltip>\n          )}\n        </TableCell>\n      </TableRow>\n    ));\n\n    // TODO: handle nested errors\n    // TODO: display errors without label\n    return (\n      <RowForm\n        {...this.props}\n        data={data}\n        handleChange={onChange(data.id)}\n        update={save}\n        cancel={cancel}\n        inline\n      />\n    );\n  }\n\n  assembleActions = (config={}, values, key) => {\n    const { handleEdit, handleAdd, remove } = this.props;\n    const { view=false, edit=false, update=false, create=false } = config;\n    let { toggleEdit, toggleAdd } = this.props;\n    let { delete: deleteAction=false } = config;\n\n    let onChangeEdit, onChangeAdd = false;\n\n    if (edit) {\n      toggleEdit = toggleEdit(values, key);\n      onChangeEdit = handleEdit(key);\n    }\n\n    if (create) {\n      toggleAdd = toggleAdd(values, key);\n      onChangeAdd = handleAdd(key);\n      deleteAction = remove(key); \n    }\n\n    return {\n      view,\n      edit,\n      toggleEdit,\n      update,\n      toggleAdd,\n      create,\n      deleteAction,\n      onChangeEdit,\n      onChangeAdd\n    };\n  }\n\n  renderRow = (item, actions, expandable, columns, parentKey, i) => {\n    let { view, edit, deleteAction, toggle } = actions;\n    const { config, draggable, toggleExpansion } = this.props;\n\n    /*** HETEROGENEOUS TABLE ***/\n    let flip = false;\n    if (config && config.union) {\n      const { union } = config;\n      if (union.condition) {\n        flip = union.condition(item);\n        if (flip) {\n          deleteAction = union.delete;\n          columns = union.columns;\n          edit = false;\n          view = false;\n        }\n      }\n    }\n    /***************************/\n\n    /*** EXPANDABLE TABLE ***/\n    let expandActions = null;\n    let children = null;\n    if (expandable) {\n      children = item[expandable.children];\n      // key = item.id => this.props.add(item.id)\n      expandActions = (\n        <Fragment>\n          {expandable.create && (\n            <IconButton onClick={() => expandable.create(item)}>\n              <Icon color=\"primary\">add_box</Icon>\n            </IconButton>\n          )}\n          {children && children.length > 0 && (\n            <ExpandButton\n              expanded={item.expanded}\n              handleClick={() => toggleExpansion(item.id)} \n            />\n          )}\n        </Fragment>\n      );\n    }\n    /************************/\n\n    const hasParticularAction = (view || edit || deleteAction || expandActions);\n\n    const rowContent = (\n      <Fragment>\n        {columns.map((col, j) => (\n          <TableCell\n            numeric={col.numeric || false}\n            colSpan={col.span || 1}\n            padding={j===0 ? \"none\" : \"default\"}\n            className={col.alignCenter && \"text-center\"}\n            style={col.styles && col.styles(item)}>\n            <OverflowTooltip>\n              {(col.view || (col.uri && col.uri(item))) ?\n                <Link to={col.view ? view && view(item, this.props) : col.uri(item)}>{col.render(item, col, this.props)}</Link>\n                : col.render(item, col, this.props)\n              }\n            </OverflowTooltip>\n          </TableCell>\n        ))} \n        {hasParticularAction && (\n          <TableCell style={{width: 200}} className=\"text-right\">\n            {edit && (\n              <Tooltip id=\"edit.inline\" enterDelay={500} title={'edit.inline'} placement=\"top\">\n                {/* TODO: i18n.translate(..) */}\n                <IconButton onClick={() => toggle(item.id)}>\n                  <Icon>edit</Icon>\n                </IconButton>\n              </Tooltip>\n            )}\n            {view && (\n              <Link to={view(item, this.props)}>\n                <Tooltip id=\"view.detail\" enterDelay={500} title={'view.detail'} placement=\"top\">\n                  {/* TODO: i18n.translate(..) */}\n                  <IconButton>\n                    <Icon>pageview</Icon>\n                  </IconButton>\n                </Tooltip>\n              </Link>\n            )}\n            {deleteAction && (\n              <Tooltip id=\"delete\" enterDelay={500} title={'edit.delete'} placement=\"top\">\n                {/* TODO: i18n.translate(..) */}\n                <IconButton onClick={() => deleteAction(item.id, item)}>\n                  <Icon>delete</Icon>\n                </IconButton>\n              </Tooltip>\n            )}\n            {expandActions}\n          </TableCell>\n        )}\n      </Fragment>\n    );\n\n    if (draggable) {\n      const { move, drop } = draggable;\n      const DraggableRow = withDraggable(TableRow)(rowContent);\n      return <DraggableRow key={item.id} idx={i} {...item} onMove={move} onDrop={drop} />;\n    }\n\n    const row = <TableRow key={i} style={config && config.rowStyles && config.rowStyles(item)}>{rowContent}</TableRow>\n\n    if (children && item.expanded) {\n      let key = item.id;\n      if (parentKey) key = `${parentKey}-${key}`;\n      const actions = this.assembleActions(expandable, children, key);\n      return (\n        <Fragment>\n          {row}\n          <ExpandedRow\n            columns={this.renderCols(expandable.columns, actions, expandable.expandable)}>\n            {this.renderRows(children, expandable.columns, actions, expandable.expandable, key)}\n          </ExpandedRow>\n        </Fragment>\n      );\n    }\n\n    return row;\n  }\n\n  renderRows = (values=[], columns, actions={}, expandable, parentKey=null) => {\n    const { view, edit: editFn, update, toggleEdit, create, toggleAdd, deleteAction, onChangeAdd, onChangeEdit } = actions;\n    const { updateLoading, updatables, insertables } = this.props;\n\n    values = values.map((item, i) => {\n      let edit = editFn;\n      let key = item.id;\n      if (parentKey) key = `${parentKey}-${key}`;\n\n      const editing = updatables && updatables[key];\n      if (typeof editFn === 'function') edit = editFn(item);\n      const adding = insertables && insertables[key];\n      const toggle = adding ? toggleAdd : toggleEdit;\n\n      if (editing || adding) {\n        if (updateLoading) return (\n          <TableRow key={i}>\n            <TableCell colSpan={columns.length+1}><Loader radius=\"24\" /></TableCell>\n          </TableRow>\n        );\n        else {\n          const data = editing ? editing.data : adding.data;\n          const onChange = adding ? onChangeAdd : onChangeEdit;\n          const actions = {\n            save: adding ? create : update,\n            cancel: toggle,\n            deleteAction\n          };\n          return this.renderRowForm(data, onChange, actions, columns, i);\n        }\n      } else return this.renderRow(item, {view, edit, deleteAction, toggle}, expandable, columns, parentKey, i);\n    });\n\n    if (create) {\n      // NOTE: if create => addButton\n      // TODO: this.props.add, then this.props.toggleAdd(id)\n      return values.concat((\n        <TableRow key={values.length+1}>\n          {columns.map(() => <TableCell />).concat([\n            <TableCell style={{textAlign: 'right'}}>\n              {/* TODO: i18n.translate(..) */}\n              <Button onClick={() => this.props.add(parentKey)} label={'add'} primary flat />\n            </TableCell>\n          ])}\n        </TableRow>\n      ));\n    } else return values;\n  }\n \n  render() {\n    const {\n      config,\n      values,\n      filters,\n      pagination,\n      withoutHeader,\n      handleChangePage,\n      handleChangeRowsPerPage\n    } = this.props;\n\n    if (filters && Utils.ds.isEmpty(Utils.ds.removeProps(filters, ['search', 'status'])) && values.length === 0) {\n      return (\n        <div className=\"top-30\">\n          {/* TODO: i18n.translate(..) */}\n          <Alert color=\"warning\">{'noNumRow'}</Alert>\n        </div>\n      );\n    }\n\n    const columns = this.props.columns.filter(item => !item.condition || item.condition(this.props));\n\n    const actions = config && this.assembleActions(config, values);\n    const expandable = config && config.expandable;\n\n    let { view, edit, deleteAction } = actions;\n    const hasAction = (view || edit || deleteAction || expandable);\n\n    return (\n      <Table style={{tableLayout: 'fixed'}}>\n        {!withoutHeader && <TableHead><TableRow>{this.renderCols(columns, actions, expandable, hasAction)}</TableRow></TableHead>}\n        <TableBody>{this.renderRows(values, columns, actions, expandable)}</TableBody>\n        {pagination &&\n          <TableFooter>\n            <TableRow>\n              <TablePagination\n                style={{paddingRight: 15}}\n                colSpan={hasAction ? columns.length+1 : columns.length}\n                {...pagination}\n                onChangePage={handleChangePage}\n                onChangeRowsPerPage={handleChangeRowsPerPage}\n                ActionsComponent={TablePaginationActions}\n              />\n            </TableRow>\n          </TableFooter>\n        }\n      </Table>\n    );\n  }\n}\n\nMuiTable.propTypes = {\n  columns: PropTypes.array.isRequired,\n  sorting: PropTypes.array.isRequired\n}\n\nexport default withDragDropContext(MuiTable);","import React, { Component, Fragment } from 'react';\nimport update from 'immutability-helper';\n\nimport Icon from '@material-ui/core/Icon';\n\nimport { Loader } from '../components';\nimport { Wrapper, Input, OptionGroup } from '../components/form';\nimport { GridWrapper, GridCell } from '../components/grid';\n\nimport Table from '../table';\n\nimport Utils from '@nexys/utils';\n\n\nclass List extends Component {\n  constructor(props) {\n    super(props);\n\n    const { columns, config } = props;\n\n    if (config.draggable) {\n      this.draggable = {\n        ...config.draggable,\n        move: this.move,\n        drop: this.drop\n      };\n    };\n\n    const searchIn = columns.filter(item => item.table && item.table.search).map(item => item.name);\n\n    let pagination = null;\n    if (config.pagination) {\n      const { rowsPerPageOptions, rowsPerPage } = config.pagination;\n      pagination = {\n        rows: [],\n        rowsPerPageOptions: rowsPerPageOptions || [10, 30, 50, 100],\n        page: 0,\n        rowsPerPage: rowsPerPage || 50,\n        total: null\n      };\n    }\n\n    let sorting = null;\n    if (config.sorting) {\n      const { order, orderBy } = config.sorting;\n      sorting = {\n        order: order || 'asc',\n        orderBy\n      };\n    }\n\n    let { values } = props;\n    values = this.prepareExpandable(values);\n\n    this.state = {\n      values,\n      addRows: [],\n      filters: {\n        status: { value: 0 },\n        search: {\n          searchIn\n        }\n      },\n      updatables: {},\n      insertables: {},\n      pagination,\n      sorting\n    };\n  }\n\n  prepareExpandable = values => {\n    const { config: { expandable } } = this.props;\n    if (expandable) {\n      const { mapping } = expandable;\n      if (mapping) {\n        return mapping(values);\n      }\n    }\n    return values;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let { values } = nextProps;\n    values = this.prepareExpandable(values);\n    this.setState({values, updateLoading: false});\n  }\n\n\n  loadingUpdate = () => this.setState({updateLoading: true});\n\n  // Utils.debounce(call, 250);\n  handleFilterChange = ({name, value}) => {\n    this.setState(prevState => ({\n      ...prevState,\n      filters: {\n        ...prevState.filters,\n        [name]: {\n          ...prevState.filters[name],\n          value\n        }\n      }\n    }))\n  };\n\n\n  /*** COLUMN FILTERS ***/\n  handleColumnFilter = (checked, {id, name}, colName) => {\n    // TODO: support greater & less than\n    // TODO: handle & activate every filter value separately\n    this.setState(prevState => ({\n      ...prevState,\n      filters: {\n        ...prevState.filters,\n        [colName]: {\n          ...prevState.filters[colName],\n          [name]: checked,\n          [id]: checked\n        }\n      }\n    }));\n  }\n\n  applyColumnFilter = colName => {\n    this.setState(prevState => ({\n      ...prevState,\n      filters: {\n        ...prevState.filters,\n        [colName]: {\n          ...prevState.filters[colName],\n          filterIsActive: true\n        }\n      }\n    }));\n  }\n\n  resetColumnFilter = colName => {\n    this.setState(prevState => ({\n      ...prevState,\n      filters: {\n        ...prevState.filters,\n        [colName]: {}\n      }\n    }));\n  }\n  /******************/\n\n\n  /*** SORTING ***/\n  handleSort = colName => {\n    const { sorting } = this.state;\n\n    let order = 'desc';\n    if (sorting && sorting.orderBy === colName) {\n      order = sorting.order === 'asc' ? 'desc' : 'asc';\n    }\n\n    this.setState(prevState => ({\n      ...prevState,\n      sorting: {\n        orderBy: colName,\n        order\n      }\n    }));\n  }\n  /******************/\n\n\n  /*** PAGINATION ***/\n  handleChangePage = (event, page) => this.setState(prevState => ({\n    ...prevState,\n    pagination: {\n      ...prevState.pagination,\n      page\n    }\n  }));\n\n  handleChangeRowsPerPage = event => this.setState(prevState => ({...prevState, pagination: {...prevState.pagination, rowsPerPage: event.target.value }}));\n  /******************/\n\n\n  /*** DRAG & DROP ***/\n  move = (dragId, hoverId) => {\n    if (dragId !== undefined && hoverId !== undefined) {\n      const { values } = this.state;\n\n      const dragItem = values.find(e => e.id === dragId);\n      const dragIdx = values.findIndex(e => e.id === dragId);\n      const hoverIdx = values.findIndex(e => e.id === hoverId);\n\n      const newValues = update(values, {\n        $splice: [[dragIdx, 1], [hoverIdx, 0, dragItem]]\n      });\n      /***\n       * {$splice: array of arrays} for each item in arrays call splice() on the target with the parameters provided by the item.\n       * Note: The items in the array are applied sequentially, so the order matters. The indices of the target may change during the operation.\n       **/\n\n      this.setState({values: newValues});\n    }\n  }\n\n  drop = async (draggedId, id) => {\n    if (this.draggable.handler) {\n      // pass async list fetcher as callback?\n      this.draggable.handler(draggedId, id);\n      /*\n        if (uriPrefix && fetchList) {\n          const uri = `${uriPrefix}/move/${draggedId}/${id}`;\n          // TODO: migrate\n          const result = await HTTPClient.get(uri);\n          if (result.status === 200) fetchList();\n        }\n      */\n    } else {\n      console.warn('No draggable move handler specified')\n    }\n  }\n  /*******************/\n\n\n  /*** STATUS WIDGET ***/\n  renderStatus = () => {\n    const { config } = this.props;\n    const { filters } = this.state;\n\n    // TODO: work with status name?\n    return (\n      <OptionGroup\n        name=\"status\"\n        options={config.status}\n        selectedValue={filters.status.value}\n        handleChange={this.handleFilterChange}\n        label={'status.select'} // TODO: translation: i18n.translate('status.select')\n        // selectedColor={adminColor}\n        compact\n        simple\n        all\n      />\n    );\n  }\n  /******************/\n\n  /*** SEARCH WIDGET ***/\n  renderSearch = () => {\n    const { filters } = this.state;\n\n    // TODO\n    // - debounce: https://toughcompetent.com/blog/es5-es6-debounce-react-events-on-inputs/\n    // - throttle: https://www.peterbe.com/plog/how-to-throttle-and-debounce-an-autocomplete-input-in-react\n    // use: https://www.npmjs.com/package/throttle-debounce\n    return (\n      <Wrapper name=\"search\" label={'filters.search'} inline>\n        <Input\n          value={filters.search.value}\n          onChange={this.handleFilterChange}\n          placeholder={'filters.search.type'} // TODO: i18n.translate(..)\n          suffix={<Icon color=\"primary\">search</Icon>}\n        />\n      </Wrapper>\n    );\n  }\n  /******************/\n\n\n  filter = () => {\n    let { values, filters } = this.state;\n\n    if (values) {\n      const { search: searchFilter, status: statusFilter } = filters;\n\n      if (statusFilter && statusFilter.value > 0) {\n        values = values.filter(item => item.status.id === statusFilter.value);\n      }\n\n      if (searchFilter && searchFilter.value) {\n        values = values.filter(item => {\n          const searchValue = searchFilter.value.toLowerCase();\n          // TODO: columns, search?\n          return searchFilter.searchIn.some(nameItem => {\n            let accessedValue = Utils.ds.get(nameItem, item);\n            accessedValue = isNaN(accessedValue) ? accessedValue.toLowerCase() : String(accessedValue);\n            if (accessedValue) return accessedValue.includes(searchValue);\n            else return false;\n          });\n        });\n      }\n\n      filters = Utils.ds.removeProps(filters, ['status', 'search']);\n      const filterCols = Object.keys(filters);\n\n      filterCols.forEach(colName => {\n        let filter = filters[colName];\n        console.log(filter, filter.active);\n        if (filter && filter.filterIsActive) {\n          filter = Utils.ds.removeProp(filter, 'filterIsActive');\n          const anySet = Object.values(filter).some(item => item);\n          if (anySet) {\n            // TODO: boolean vs domain\n            values = values.filter(item => {\n              // get column object or value from linearized key\n              let colItem = Utils.ds.get(colName, item);\n              if (colItem === null || colItem === undefined) colItem = Utils.ds.get(colName + \"Set\", item);\n              // get value from column object or keep value from linearized key\n              const value = typeof colItem === 'object' && colItem !== null ? colItem.name || colItem.id : colItem; \n              return filter[value];\n            });\n          }\n        }\n      });\n    }\n\n    return values;\n  }\n \n  toggle = (storeKey, values, prefix=null) => id => {\n    let key = id;\n    if (prefix) key = `${prefix}-${id}`;\n    if (key in this.state[storeKey]) {\n      this.setState(prevState => {\n        const store = prevState[storeKey];\n        delete store[key];\n        return {\n          ...prevState,\n          [storeKey]: store\n        };\n      });\n    } else {\n      const data = values.find(item => item.id === id);\n      this.setState(prevState => ({\n        ...prevState,\n        [storeKey]: {\n          ...prevState[storeKey],\n          [key]: {\n            data: {...data},\n            errors: {}\n          }\n        }\n      }));\n    }\n  }\n\n  toggleEdit = (values, depth=null) => id => {\n    this.toggle('updatables', values, depth)(id);\n  }\n\n  toggleAdd = (values, depth=null) => id => {\n    this.toggle('insertables', values, depth)(id);\n  }\n\n  handleChange = (store, id, prefix) => change => {\n    const key = prefix ? `${prefix}-${id}` : id;\n    const item = this.state[store][key];\n\n    const data = Utils.ds.updateObject(item.data, change);\n    this.setState(prevState => ({\n      ...prevState,\n      [store]: {\n        ...prevState[store],\n        [key]: {\n          ...item,\n          data\n        }\n      }\n    }));\n  }\n\n  // TODO: depth isn't exclusive for nested ids that are similar\n  handleEdit = (depth=null) => id => change => {\n    this.handleChange('updatables', id, depth)(change);\n  }\n\n  handleAdd = (depth=null) => id => change => {\n    this.handleChange('insertables', id, depth)(change);\n  }\n\n  /*\n    TODO:\n    handleDelete = delete => id => {\n      call delete (without fetch)\n      & remove from values\n    }\n  */\n\n  // TODO: handle nesting\n  add = (key=null) => {\n    // keyComps = key.split('_');\n    if (!key) {\n      // TODO: robust id\n      const id = Math.max(...this.state.values.map(item => item.id))+1;\n      this.setState(prevState => ({\n        ...prevState,\n        values: [\n          ...prevState.values,\n          { add: true, id }\n        ]\n      }), () => this.toggleAdd(this.state.values, key)(id));\n    } \n\n    console.log('add');\n    //else {\n      // let { config: { expandable } } = this.props;\n      // need all the ids\n    //}\n  }\n\n  remove = (key=null) => id => {\n    // if key => key.split();\n    if (!key) {\n      this.setState(prevState => ({\n        ...prevState,\n        values: prevState.values.filter(item => item.id !== id)\n      }));\n    }\n  }\n\n  render() {\n    let { config: { search, status } } = this.props;\n    const { filters, sorting, pagination, updatables, insertables, updateLoading } = this.state;\n\n    let filteredValues = this.filter();\n    \n    if (!filteredValues) return <Loader />;\n\n    if (sorting) {\n      const { order, orderBy } = sorting;\n      filteredValues = Utils.ds.sortByProp(filteredValues, orderBy, order === 'asc'); \n    }\n\n    let pageValues = null;\n    if (pagination) {\n      const { page, rowsPerPage } = pagination;\n      pageValues = filteredValues.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\n    }\n\n\n    return (\n      <Fragment>\n        {(status || search) && (\n          <GridWrapper admin>\n            <GridCell span2>{status && this.renderStatus()}</GridCell>\n            <GridCell>{search && this.renderSearch()}</GridCell>\n          </GridWrapper>\n        )}\n        <div style={{marginTop: 30}}>\n          <Table\n            {...this.props}\n            updateLoading={updateLoading}\n            loadingUpdate={this.loadingUpdate}\n            values={pageValues || filteredValues}\n            handleEdit={this.handleEdit}\n            handleAdd={this.handleAdd}\n            filters={filters}\n            applyFilter={this.applyColumnFilter}\n            resetFilter={this.resetColumnFilter}\n            onFilterChange={this.handleColumnFilter}\n            sorting={sorting}\n            onSort={this.handleSort}\n            pagination={pagination && {...pagination, count: filteredValues.length}}\n            handleChangePage={this.handleChangePage}\n            handleChangeRowsPerPage={this.handleChangeRowsPerPage}\n            draggable={this.draggable}\n            updatables={updatables}\n            insertables={insertables}\n            toggleEdit={this.toggleEdit}\n            toggleAdd={this.toggleAdd}\n            add={this.add}\n            remove={this.remove}\n          />\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default List;","import React from 'react';\nimport './App.css';\n\nimport List from './lib/list';\n\nfunction App() {\n  const data = [\n    {name: 'Germany'},\n    {name: 'Switzerland'},\n  ];\n\n  const columns = [\n    {name: 'name', render: x => x.name}\n  ];\n\n  const config = {\n    //view: r => '/test',\n    //update: (id, r) => {},\n    //delete: (id, r) => this.props.delete(r.certId, id),\n    //edit: true,\n    //search: true,\n  };\n\n  return (\n    <List\n      values={data}\n      columns={columns}\n      config={config}\n    />\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}